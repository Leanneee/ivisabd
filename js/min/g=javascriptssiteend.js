/* Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version 2.1.2
 */
(function(a){a.fn.bgiframe=(a.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(d){d=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},d);var c='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+d.src+'"style="display:block;position:absolute;z-index:-1;'+(d.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(d.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":b(d.top))+";left:"+(d.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":b(d.left))+";width:"+(d.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":b(d.width))+";height:"+(d.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":b(d.height))+';"/>';return this.each(function(){if(a(this).children("iframe.bgiframe").length===0){this.insertBefore(document.createElement(c),this.firstChild)}})}:function(){return this});a.fn.bgIframe=a.fn.bgiframe;function b(c){return c&&c.constructor===Number?c+"px":c}})(jQuery);
;;
/*!
 *  GMAP3 Plugin for JQuery
 *  Version   : 5.1.1
 *  Date      : 2013-05-25
 *  Licence   : GPL v3 : http://www.gnu.org/licenses/gpl.html
 *  Author    : DEMONTE Jean-Baptiste
 *  Contact   : jbdemonte@gmail.com
 *  Web site  : http://gmap3.net
 *
 *  Copyright (c) 2010-2012 Jean-Baptiste DEMONTE
 *  All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 *   - Redistributions of source code must retain the above copyright
 *     notice, this list of conditions and the following disclaimer.
 *   - Redistributions in binary form must reproduce the above
 *     copyright notice, this list of conditions and the following
 *     disclaimer in the documentation and/or other materials provided
 *     with the distribution.
 *   - Neither the name of the author nor the names of its contributors
 *     may be used to endorse or promote products derived from this
 *     software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */
(function($,undef){var defaults,gId=0;function initDefaults(){if(!defaults){defaults={verbose:false,queryLimit:{attempt:5,delay:250,random:250},classes:{Map:google.maps.Map,Marker:google.maps.Marker,InfoWindow:google.maps.InfoWindow,Circle:google.maps.Circle,Rectangle:google.maps.Rectangle,OverlayView:google.maps.OverlayView,StreetViewPanorama:google.maps.StreetViewPanorama,KmlLayer:google.maps.KmlLayer,TrafficLayer:google.maps.TrafficLayer,BicyclingLayer:google.maps.BicyclingLayer,GroundOverlay:google.maps.GroundOverlay,StyledMapType:google.maps.StyledMapType,ImageMapType:google.maps.ImageMapType},map:{mapTypeId:google.maps.MapTypeId.ROADMAP,center:[46.578498,2.457275],zoom:2},overlay:{pane:"floatPane",content:"",offset:{x:0,y:0}},geoloc:{getCurrentPosition:{maximumAge:60000,timeout:5000}}}}}
function globalId(id,simulate){return id!==undef?id:"gmap3_"+(simulate?gId+1:++gId);}
function googleVersionMin(version){var toInt=function(v){return parseInt(v,10);},gmVersion=google.maps.version.split(".").map(toInt),i;version=version.split(".").map(toInt);for(i=0;i<version.length;i++){if(gmVersion.hasOwnProperty(i)){if(gmVersion[i]<version[i]){return false;}}else{return false;}}
return true;}
function attachEvents($container,args,sender,id,senders){if(args.todo.events||args.todo.onces){var context={id:id,data:args.todo.data,tag:args.todo.tag};if(args.todo.events){$.each(args.todo.events,function(name,f){var that=$container,fn=f;if($.isArray(f)){that=f[0];fn=f[1]}
google.maps.event.addListener(sender,name,function(event){fn.apply(that,[senders?senders:sender,event,context]);});});}
if(args.todo.onces){$.each(args.todo.onces,function(name,f){var that=$container,fn=f;if($.isArray(f)){that=f[0];fn=f[1]}
google.maps.event.addListenerOnce(sender,name,function(event){fn.apply(that,[senders?senders:sender,event,context]);});});}}}
function Stack(){var st=[];this.empty=function(){return!st.length;};this.add=function(v){st.push(v);};this.get=function(){return st.length?st[0]:false;};this.ack=function(){st.shift();};}
function Task(ctx,onEnd,todo){var session={},that=this,current,resolve={latLng:{map:false,marker:false,infowindow:false,circle:false,overlay:false,getlatlng:false,getmaxzoom:false,getelevation:false,streetviewpanorama:false,getaddress:true},geoloc:{getgeoloc:true}};if(typeof todo==="string"){todo=unify(todo);}
function unify(todo){var result={};result[todo]={};return result;}
function next(){var k;for(k in todo){if(k in session){continue;}
return k;}}
this.run=function(){var k,opts;while(k=next()){if(typeof ctx[k]==="function"){current=k;opts=$.extend(true,{},defaults[k]||{},todo[k].options||{});if(k in resolve.latLng){if(todo[k].values){resolveAllLatLng(todo[k].values,ctx,ctx[k],{todo:todo[k],opts:opts,session:session});}else{resolveLatLng(ctx,ctx[k],resolve.latLng[k],{todo:todo[k],opts:opts,session:session});}}else if(k in resolve.geoloc){geoloc(ctx,ctx[k],{todo:todo[k],opts:opts,session:session});}else{ctx[k].apply(ctx,[{todo:todo[k],opts:opts,session:session}]);}
return;}else{session[k]=null;}}
onEnd.apply(ctx,[todo,session]);};this.ack=function(result){session[current]=result;that.run.apply(that,[]);};}
function getKeys(obj){var k,keys=[];for(k in obj){keys.push(k);}
return keys;}
function tuple(args,value){var todo={};if(args.todo){for(var k in args.todo){if((k!=="options")&&(k!=="values")){todo[k]=args.todo[k];}}}
var i,keys=["data","tag","id","events","onces"];for(i=0;i<keys.length;i++){copyKey(todo,keys[i],value,args.todo);}
todo.options=$.extend({},args.opts||{},value.options||{});return todo;}
function copyKey(target,key){for(var i=2;i<arguments.length;i++){if(key in arguments[i]){target[key]=arguments[i][key];return;}}}
function GeocoderCache(){var cache=[];this.get=function(request){if(cache.length){var i,j,k,item,eq,keys=getKeys(request);for(i=0;i<cache.length;i++){item=cache[i];eq=keys.length==item.keys.length;for(j=0;(j<keys.length)&&eq;j++){k=keys[j];eq=k in item.request;if(eq){if((typeof request[k]==="object")&&("equals"in request[k])&&(typeof request[k]==="function")){eq=request[k].equals(item.request[k]);}else{eq=request[k]===item.request[k];}}}
if(eq){return item.results;}}}};this.store=function(request,results){cache.push({request:request,keys:getKeys(request),results:results});};}
function OverlayView(map,opts,latLng,$div){var that=this,listeners=[];defaults.classes.OverlayView.call(this);this.setMap(map);this.onAdd=function(){var panes=this.getPanes();if(opts.pane in panes){$(panes[opts.pane]).append($div);}
$.each("dblclick click mouseover mousemove mouseout mouseup mousedown".split(" "),function(i,name){listeners.push(google.maps.event.addDomListener($div[0],name,function(e){$.Event(e).stopPropagation();google.maps.event.trigger(that,name,[e]);that.draw();}));});listeners.push(google.maps.event.addDomListener($div[0],"contextmenu",function(e){$.Event(e).stopPropagation();google.maps.event.trigger(that,"rightclick",[e]);that.draw();}));};this.getPosition=function(){return latLng;};this.draw=function(){var ps=this.getProjection().fromLatLngToDivPixel(latLng);$div.css("left",(ps.x+opts.offset.x)+"px").css("top",(ps.y+opts.offset.y)+"px");};this.onRemove=function(){for(var i=0;i<listeners.length;i++){google.maps.event.removeListener(listeners[i]);}
$div.remove();};this.hide=function(){$div.hide();};this.show=function(){$div.show();};this.toggle=function(){if($div){if($div.is(":visible")){this.show();}else{this.hide();}}};this.toggleDOM=function(){if(this.getMap()){this.setMap(null);}else{this.setMap(map);}};this.getDOMElement=function(){return $div[0];};}
function newEmptyOverlay(map,radius){function Overlay(){this.onAdd=function(){};this.onRemove=function(){};this.draw=function(){};return defaults.classes.OverlayView.apply(this,[]);}
Overlay.prototype=defaults.classes.OverlayView.prototype;var obj=new Overlay();obj.setMap(map);return obj;}
function InternalClusterer($container,map,raw){var updating=false,updated=false,redrawing=false,ready=false,enabled=true,that=this,events=[],store={},ids={},idxs={},markers=[],todos=[],values=[],overlay=newEmptyOverlay(map,raw.radius),timer,projection,ffilter,fdisplay,ferror;main();function prepareMarker(index){if(!markers[index]){delete todos[index].options.map;markers[index]=new defaults.classes.Marker(todos[index].options);attachEvents($container,{todo:todos[index]},markers[index],todos[index].id);}}
this.getById=function(id){if(id in ids){prepareMarker(ids[id]);return markers[ids[id]];}
return false;};this.rm=function(id){var index=ids[id];if(markers[index]){markers[index].setMap(null);}
delete markers[index];markers[index]=false;delete todos[index];todos[index]=false;delete values[index];values[index]=false;delete ids[id];delete idxs[index];updated=true;};this.clearById=function(id){if(id in ids){this.rm(id);return true;}};this.clear=function(last,first,tag){var start,stop,step,index,i,list=[],check=ftag(tag);if(last){start=todos.length-1;stop=-1;step=-1;}else{start=0;stop=todos.length;step=1;}
for(index=start;index!=stop;index+=step){if(todos[index]){if(!check||check(todos[index].tag)){list.push(idxs[index]);if(first||last){break;}}}}
for(i=0;i<list.length;i++){this.rm(list[i]);}};this.add=function(todo,value){todo.id=globalId(todo.id);this.clearById(todo.id);ids[todo.id]=markers.length;idxs[markers.length]=todo.id;markers.push(null);todos.push(todo);values.push(value);updated=true;};this.addMarker=function(marker,todo){todo=todo||{};todo.id=globalId(todo.id);this.clearById(todo.id);if(!todo.options){todo.options={};}
todo.options.position=marker.getPosition();attachEvents($container,{todo:todo},marker,todo.id);ids[todo.id]=markers.length;idxs[markers.length]=todo.id;markers.push(marker);todos.push(todo);values.push(todo.data||{});updated=true;};this.todo=function(index){return todos[index];};this.value=function(index){return values[index];};this.marker=function(index){if(index in markers){prepareMarker(index);return markers[index];}
return false;};this.markerIsSet=function(index){return Boolean(markers[index]);};this.setMarker=function(index,marker){markers[index]=marker;};this.store=function(cluster,obj,shadow){store[cluster.ref]={obj:obj,shadow:shadow};};this.free=function(){for(var i=0;i<events.length;i++){google.maps.event.removeListener(events[i]);}
events=[];$.each(store,function(key){flush(key);});store={};$.each(todos,function(i){todos[i]=null;});todos=[];$.each(markers,function(i){if(markers[i]){markers[i].setMap(null);delete markers[i];}});markers=[];$.each(values,function(i){delete values[i];});values=[];ids={};idxs={};};this.filter=function(f){ffilter=f;redraw();};this.enable=function(value){if(enabled!=value){enabled=value;redraw();}};this.display=function(f){fdisplay=f;};this.error=function(f){ferror=f;};this.beginUpdate=function(){updating=true;};this.endUpdate=function(){updating=false;if(updated){redraw();}};this.autofit=function(bounds){for(var i=0;i<todos.length;i++){if(todos[i]){bounds.extend(todos[i].options.position);}}};function main(){projection=overlay.getProjection();if(!projection){setTimeout(function(){main.apply(that,[]);},25);return;}
ready=true;events.push(google.maps.event.addListener(map,"zoom_changed",function(){delayRedraw();}));events.push(google.maps.event.addListener(map,"bounds_changed",function(){delayRedraw();}));redraw();}
function flush(key){if(typeof store[key]==="object"){if(typeof(store[key].obj.setMap)==="function"){store[key].obj.setMap(null);}
if(typeof(store[key].obj.remove)==="function"){store[key].obj.remove();}
if(typeof(store[key].shadow.remove)==="function"){store[key].obj.remove();}
if(typeof(store[key].shadow.setMap)==="function"){store[key].shadow.setMap(null);}
delete store[key].obj;delete store[key].shadow;}else if(markers[key]){markers[key].setMap(null);}
delete store[key];}
function distanceInMeter(){var lat1,lat2,lng1,lng2,e,f,g,h;if(arguments[0]instanceof google.maps.LatLng){lat1=arguments[0].lat();lng1=arguments[0].lng();if(arguments[1]instanceof google.maps.LatLng){lat2=arguments[1].lat();lng2=arguments[1].lng();}else{lat2=arguments[1];lng2=arguments[2];}}else{lat1=arguments[0];lng1=arguments[1];if(arguments[2]instanceof google.maps.LatLng){lat2=arguments[2].lat();lng2=arguments[2].lng();}else{lat2=arguments[2];lng2=arguments[3];}}
e=Math.PI*lat1/180;f=Math.PI*lng1/180;g=Math.PI*lat2/180;h=Math.PI*lng2/180;return 1000*6371*Math.acos(Math.min(Math.cos(e)*Math.cos(g)*Math.cos(f)*Math.cos(h)+Math.cos(e)*Math.sin(f)*Math.cos(g)*Math.sin(h)+Math.sin(e)*Math.sin(g),1));}
function extendsMapBounds(){var radius=distanceInMeter(map.getCenter(),map.getBounds().getNorthEast()),circle=new google.maps.Circle({center:map.getCenter(),radius:1.25*radius});return circle.getBounds();}
function getStoreKeys(){var keys={},k;for(k in store){keys[k]=true;}
return keys;}
function delayRedraw(){clearTimeout(timer);timer=setTimeout(function(){redraw();},25);}
function extendsBounds(latLng){var p=projection.fromLatLngToDivPixel(latLng),ne=projection.fromDivPixelToLatLng(new google.maps.Point(p.x+raw.radius,p.y-raw.radius)),sw=projection.fromDivPixelToLatLng(new google.maps.Point(p.x-raw.radius,p.y+raw.radius));return new google.maps.LatLngBounds(sw,ne);}
function redraw(){if(updating||redrawing||!ready){return;}
var keys=[],used={},zoom=map.getZoom(),forceDisabled=("maxZoom"in raw)&&(zoom>raw.maxZoom),previousKeys=getStoreKeys(),i,j,k,indexes,check=false,bounds,cluster,position,previous,lat,lng,loop;updated=false;if(zoom>3){bounds=extendsMapBounds();check=bounds.getSouthWest().lng()<bounds.getNorthEast().lng();}
for(i=0;i<todos.length;i++){if(todos[i]&&(!check||bounds.contains(todos[i].options.position))&&(!ffilter||ffilter(values[i]))){keys.push(i);}}
while(1){i=0;while(used[i]&&(i<keys.length)){i++;}
if(i==keys.length){break;}
indexes=[];if(enabled&&!forceDisabled){loop=10;do{previous=indexes;indexes=[];loop--;if(previous.length){position=bounds.getCenter()}else{position=todos[keys[i]].options.position;}
bounds=extendsBounds(position);for(j=i;j<keys.length;j++){if(used[j]){continue;}
if(bounds.contains(todos[keys[j]].options.position)){indexes.push(j);}}}while((previous.length<indexes.length)&&(indexes.length>1)&&loop);}else{for(j=i;j<keys.length;j++){if(used[j]){continue;}
indexes.push(j);break;}}
cluster={indexes:[],ref:[]};lat=lng=0;for(k=0;k<indexes.length;k++){used[indexes[k]]=true;cluster.indexes.push(keys[indexes[k]]);cluster.ref.push(keys[indexes[k]]);lat+=todos[keys[indexes[k]]].options.position.lat();lng+=todos[keys[indexes[k]]].options.position.lng();}
lat/=indexes.length;lng/=indexes.length;cluster.latLng=new google.maps.LatLng(lat,lng);cluster.ref=cluster.ref.join("-");if(cluster.ref in previousKeys){delete previousKeys[cluster.ref];}else{if(indexes.length===1){store[cluster.ref]=true;}
fdisplay(cluster);}}
$.each(previousKeys,function(key){flush(key);});redrawing=false;}}
function Clusterer(id,internalClusterer){this.id=function(){return id;};this.filter=function(f){internalClusterer.filter(f);};this.enable=function(){internalClusterer.enable(true);};this.disable=function(){internalClusterer.enable(false);};this.add=function(marker,todo,lock){if(!lock){internalClusterer.beginUpdate();}
internalClusterer.addMarker(marker,todo);if(!lock){internalClusterer.endUpdate();}};this.getById=function(id){return internalClusterer.getById(id);};this.clearById=function(id,lock){var result;if(!lock){internalClusterer.beginUpdate();}
result=internalClusterer.clearById(id);if(!lock){internalClusterer.endUpdate();}
return result;};this.clear=function(last,first,tag,lock){if(!lock){internalClusterer.beginUpdate();}
internalClusterer.clear(last,first,tag);if(!lock){internalClusterer.endUpdate();}};}
function Store(){var store={},objects={};function normalize(res){return{id:res.id,name:res.name,object:res.obj,tag:res.tag,data:res.data};}
this.add=function(args,name,obj,sub){var todo=args.todo||{},id=globalId(todo.id);if(!store[name]){store[name]=[];}
if(id in objects){this.clearById(id);}
objects[id]={obj:obj,sub:sub,name:name,id:id,tag:todo.tag,data:todo.data};store[name].push(id);return id;};this.getById=function(id,sub,full){if(id in objects){if(sub){return objects[id].sub}else if(full){return normalize(objects[id]);}
return objects[id].obj;}
return false;};this.get=function(name,last,tag,full){var n,id,check=ftag(tag);if(!store[name]||!store[name].length){return null;}
n=store[name].length;while(n){n--;id=store[name][last?n:store[name].length-n-1];if(id&&objects[id]){if(check&&!check(objects[id].tag)){continue;}
return full?normalize(objects[id]):objects[id].obj;}}
return null;};this.all=function(name,tag,full){var result=[],check=ftag(tag),find=function(n){var i,id;for(i=0;i<store[n].length;i++){id=store[n][i];if(id&&objects[id]){if(check&&!check(objects[id].tag)){continue;}
result.push(full?normalize(objects[id]):objects[id].obj);}}};if(name in store){find(name);}else if(name===undef){for(name in store){find(name);}}
return result;};function rm(obj){if(typeof(obj.setMap)==="function"){obj.setMap(null);}
if(typeof(obj.remove)==="function"){obj.remove();}
if(typeof(obj.free)==="function"){obj.free();}
obj=null;}
this.rm=function(name,check,pop){var idx,id;if(!store[name]){return false;}
if(check){if(pop){for(idx=store[name].length-1;idx>=0;idx--){id=store[name][idx];if(check(objects[id].tag)){break;}}}else{for(idx=0;idx<store[name].length;idx++){id=store[name][idx];if(check(objects[id].tag)){break;}}}}else{idx=pop?store[name].length-1:0;}
if(!(idx in store[name])){return false;}
return this.clearById(store[name][idx],idx);};this.clearById=function(id,idx){if(id in objects){var i,name=objects[id].name;for(i=0;idx===undef&&i<store[name].length;i++){if(id===store[name][i]){idx=i;}}
rm(objects[id].obj);if(objects[id].sub){rm(objects[id].sub);}
delete objects[id];store[name].splice(idx,1);return true;}
return false;};this.objGetById=function(id){var result;if(store["clusterer"]){for(var idx in store["clusterer"]){if((result=objects[store["clusterer"][idx]].obj.getById(id))!==false){return result;}}}
return false;};this.objClearById=function(id){if(store["clusterer"]){for(var idx in store["clusterer"]){if(objects[store["clusterer"][idx]].obj.clearById(id)){return true;}}}
return null;};this.clear=function(list,last,first,tag){var k,i,name,check=ftag(tag);if(!list||!list.length){list=[];for(k in store){list.push(k);}}else{list=array(list);}
for(i=0;i<list.length;i++){name=list[i];if(last){this.rm(name,check,true);}else if(first){this.rm(name,check,false);}else{while(this.rm(name,check,false));}}};this.objClear=function(list,last,first,tag){if(store["clusterer"]&&($.inArray("marker",list)>=0||!list.length)){for(var idx in store["clusterer"]){objects[store["clusterer"][idx]].obj.clear(last,first,tag);}}};}
var services={},geocoderCache=new GeocoderCache();function geocoder(){if(!services.geocoder){services.geocoder=new google.maps.Geocoder();}
return services.geocoder;}
function directionsService(){if(!services.directionsService){services.directionsService=new google.maps.DirectionsService();}
return services.directionsService;}
function elevationService(){if(!services.elevationService){services.elevationService=new google.maps.ElevationService();}
return services.elevationService;}
function maxZoomService(){if(!services.maxZoomService){services.maxZoomService=new google.maps.MaxZoomService();}
return services.maxZoomService;}
function distanceMatrixService(){if(!services.distanceMatrixService){services.distanceMatrixService=new google.maps.DistanceMatrixService();}
return services.distanceMatrixService;}
function error(){if(defaults.verbose){var i,err=[];if(window.console&&(typeof console.error==="function")){for(i=0;i<arguments.length;i++){err.push(arguments[i]);}
console.error.apply(console,err);}else{err="";for(i=0;i<arguments.length;i++){err+=arguments[i].toString()+" ";}
alert(err);}}}
function numeric(mixed){return(typeof(mixed)==="number"||typeof(mixed)==="string")&&mixed!==""&&!isNaN(mixed);}
function array(mixed){var k,a=[];if(mixed!==undef){if(typeof(mixed)==="object"){if(typeof(mixed.length)==="number"){a=mixed;}else{for(k in mixed){a.push(mixed[k]);}}}else{a.push(mixed);}}
return a;}
function ftag(tag){if(tag){if(typeof tag==="function"){return tag;}
tag=array(tag);return function(val){if(val===undef){return false;}
if(typeof val==="object"){for(var i=0;i<val.length;i++){if($.inArray(val[i],tag)>=0){return true;}}
return false;}
return $.inArray(val,tag)>=0;}}}
function toLatLng(mixed,emptyReturnMixed,noFlat){var empty=emptyReturnMixed?mixed:null;if(!mixed||(typeof mixed==="string")){return empty;}
if(mixed.latLng){return toLatLng(mixed.latLng);}
if(mixed instanceof google.maps.LatLng){return mixed;}
else if(numeric(mixed.lat)){return new google.maps.LatLng(mixed.lat,mixed.lng);}
else if(!noFlat&&$.isArray(mixed)){if(!numeric(mixed[0])||!numeric(mixed[1])){return empty;}
return new google.maps.LatLng(mixed[0],mixed[1]);}
return empty;}
function toLatLngBounds(mixed){var ne,sw;if(!mixed||mixed instanceof google.maps.LatLngBounds){return mixed||null;}
if($.isArray(mixed)){if(mixed.length==2){ne=toLatLng(mixed[0]);sw=toLatLng(mixed[1]);}else if(mixed.length==4){ne=toLatLng([mixed[0],mixed[1]]);sw=toLatLng([mixed[2],mixed[3]]);}}else{if(("ne"in mixed)&&("sw"in mixed)){ne=toLatLng(mixed.ne);sw=toLatLng(mixed.sw);}else if(("n"in mixed)&&("e"in mixed)&&("s"in mixed)&&("w"in mixed)){ne=toLatLng([mixed.n,mixed.e]);sw=toLatLng([mixed.s,mixed.w]);}}
if(ne&&sw){return new google.maps.LatLngBounds(sw,ne);}
return null;}
function resolveLatLng(ctx,method,runLatLng,args,attempt){var latLng=runLatLng?toLatLng(args.todo,false,true):false,conf=latLng?{latLng:latLng}:(args.todo.address?(typeof(args.todo.address)==="string"?{address:args.todo.address}:args.todo.address):false),cache=conf?geocoderCache.get(conf):false,that=this;if(conf){attempt=attempt||0;if(cache){args.latLng=cache.results[0].geometry.location;args.results=cache.results;args.status=cache.status;method.apply(ctx,[args]);}else{if(conf.location){conf.location=toLatLng(conf.location);}
if(conf.bounds){conf.bounds=toLatLngBounds(conf.bounds);}
geocoder().geocode(conf,function(results,status){if(status===google.maps.GeocoderStatus.OK){geocoderCache.store(conf,{results:results,status:status});args.latLng=results[0].geometry.location;args.results=results;args.status=status;method.apply(ctx,[args]);}else if((status===google.maps.GeocoderStatus.OVER_QUERY_LIMIT)&&(attempt<defaults.queryLimit.attempt)){setTimeout(function(){resolveLatLng.apply(that,[ctx,method,runLatLng,args,attempt+1]);},defaults.queryLimit.delay+Math.floor(Math.random()*defaults.queryLimit.random));}else{error("geocode failed",status,conf);args.latLng=args.results=false;args.status=status;method.apply(ctx,[args]);}});}}else{args.latLng=toLatLng(args.todo,false,true);method.apply(ctx,[args]);}}
function resolveAllLatLng(list,ctx,method,args){var that=this,i=-1;function resolve(){do{i++;}while((i<list.length)&&!("address"in list[i]));if(i>=list.length){method.apply(ctx,[args]);return;}
resolveLatLng(that,function(args){delete args.todo;$.extend(list[i],args);resolve.apply(that,[]);},true,{todo:list[i]});}
resolve();}
function geoloc(ctx,method,args){var is_echo=false;if(navigator&&navigator.geolocation){navigator.geolocation.getCurrentPosition(function(pos){if(is_echo){return;}
is_echo=true;args.latLng=new google.maps.LatLng(pos.coords.latitude,pos.coords.longitude);method.apply(ctx,[args]);},function(){if(is_echo){return;}
is_echo=true;args.latLng=false;method.apply(ctx,[args]);},args.opts.getCurrentPosition);}else{args.latLng=false;method.apply(ctx,[args]);}}
function Gmap3($this){var that=this,stack=new Stack(),store=new Store(),map=null,task;this._plan=function(list){for(var k=0;k<list.length;k++){stack.add(new Task(that,end,list[k]));}
run();};function run(){if(!task&&(task=stack.get())){task.run();}}
function end(){task=null;stack.ack();run.call(that);}
function callback(args){if(args.todo.callback){var params=Array.prototype.slice.call(arguments,1);if(typeof args.todo.callback==="function"){args.todo.callback.apply($this,params);}else if($.isArray(args.todo.callback)){if(typeof args.todo.callback[1]==="function"){args.todo.callback[1].apply(args.todo.callback[0],params);}}}}
function manageEnd(args,obj,id){if(id){attachEvents($this,args,obj,id);}
callback(args,obj);task.ack(obj);}
function newMap(latLng,args){args=args||{};if(map){if(args.todo&&args.todo.options){if(args.todo.options.center){args.todo.options.center=toLatLng(args.todo.options.center);}
map.setOptions(args.todo.options);}}else{var opts=args.opts||$.extend(true,{},defaults.map,args.todo&&args.todo.options?args.todo.options:{});opts.center=latLng||toLatLng(opts.center);map=new defaults.classes.Map($this.get(0),opts);}}
this.map=function(args){newMap(args.latLng,args);attachEvents($this,args,map);manageEnd(args,map);};this.destroy=function(args){store.clear();$this.empty();if(map){map=null;}
manageEnd(args,true);};this.infowindow=function(args){var objs=[],multiple="values"in args.todo;if(!multiple){if(args.latLng){args.opts.position=args.latLng;}
args.todo.values=[{options:args.opts}];}
$.each(args.todo.values,function(i,value){var id,obj,todo=tuple(args,value);todo.options.position=todo.options.position?toLatLng(todo.options.position):toLatLng(value.latLng);if(!map){newMap(todo.options.position);}
obj=new defaults.classes.InfoWindow(todo.options);if(obj&&((todo.open===undef)||todo.open)){if(multiple){obj.open(map,todo.anchor?todo.anchor:undef);}else{obj.open(map,todo.anchor?todo.anchor:(args.latLng?undef:(args.session.marker?args.session.marker:undef)));}}
objs.push(obj);id=store.add({todo:todo},"infowindow",obj);attachEvents($this,{todo:todo},obj,id);});manageEnd(args,multiple?objs:objs[0]);};this.circle=function(args){var objs=[],multiple="values"in args.todo;if(!multiple){args.opts.center=args.latLng||toLatLng(args.opts.center);args.todo.values=[{options:args.opts}];}
if(!args.todo.values.length){manageEnd(args,false);return;}
$.each(args.todo.values,function(i,value){var id,obj,todo=tuple(args,value);todo.options.center=todo.options.center?toLatLng(todo.options.center):toLatLng(value);if(!map){newMap(todo.options.center);}
todo.options.map=map;obj=new defaults.classes.Circle(todo.options);objs.push(obj);id=store.add({todo:todo},"circle",obj);attachEvents($this,{todo:todo},obj,id);});manageEnd(args,multiple?objs:objs[0]);};this.overlay=function(args,internal){var objs=[],multiple="values"in args.todo;if(!multiple){args.todo.values=[{latLng:args.latLng,options:args.opts}];}
if(!args.todo.values.length){manageEnd(args,false);return;}
if(!OverlayView.__initialised){OverlayView.prototype=new defaults.classes.OverlayView();OverlayView.__initialised=true;}
$.each(args.todo.values,function(i,value){var id,obj,todo=tuple(args,value),$div=$(document.createElement("div")).css({border:"none",borderWidth:"0px",position:"absolute"});$div.append(todo.options.content);obj=new OverlayView(map,todo.options,toLatLng(todo)||toLatLng(value),$div);objs.push(obj);$div=null;if(!internal){id=store.add(args,"overlay",obj);attachEvents($this,{todo:todo},obj,id);}});if(internal){return objs[0];}
manageEnd(args,multiple?objs:objs[0]);};this.getaddress=function(args){callback(args,args.results,args.status);task.ack();};this.getlatlng=function(args){callback(args,args.results,args.status);task.ack();};this.getmaxzoom=function(args){maxZoomService().getMaxZoomAtLatLng(args.latLng,function(result){callback(args,result.status===google.maps.MaxZoomStatus.OK?result.zoom:false,status);task.ack();});};this.getelevation=function(args){var i,locations=[],f=function(results,status){callback(args,status===google.maps.ElevationStatus.OK?results:false,status);task.ack();};if(args.latLng){locations.push(args.latLng);}else{locations=array(args.todo.locations||[]);for(i=0;i<locations.length;i++){locations[i]=toLatLng(locations[i]);}}
if(locations.length){elevationService().getElevationForLocations({locations:locations},f);}else{if(args.todo.path&&args.todo.path.length){for(i=0;i<args.todo.path.length;i++){locations.push(toLatLng(args.todo.path[i]));}}
if(locations.length){elevationService().getElevationAlongPath({path:locations,samples:args.todo.samples},f);}else{task.ack();}}};this.defaults=function(args){$.each(args.todo,function(name,value){if(typeof defaults[name]==="object"){defaults[name]=$.extend({},defaults[name],value);}else{defaults[name]=value;}});task.ack(true);};this.rectangle=function(args){var objs=[],multiple="values"in args.todo;if(!multiple){args.todo.values=[{options:args.opts}];}
if(!args.todo.values.length){manageEnd(args,false);return;}
$.each(args.todo.values,function(i,value){var id,obj,todo=tuple(args,value);todo.options.bounds=todo.options.bounds?toLatLngBounds(todo.options.bounds):toLatLngBounds(value);if(!map){newMap(todo.options.bounds.getCenter());}
todo.options.map=map;obj=new defaults.classes.Rectangle(todo.options);objs.push(obj);id=store.add({todo:todo},"rectangle",obj);attachEvents($this,{todo:todo},obj,id);});manageEnd(args,multiple?objs:objs[0]);};function poly(args,poly,path){var objs=[],multiple="values"in args.todo;if(!multiple){args.todo.values=[{options:args.opts}];}
if(!args.todo.values.length){manageEnd(args,false);return;}
newMap();$.each(args.todo.values,function(_,value){var id,i,j,obj,todo=tuple(args,value);if(todo.options[path]){if(todo.options[path][0][0]&&$.isArray(todo.options[path][0][0])){for(i=0;i<todo.options[path].length;i++){for(j=0;j<todo.options[path][i].length;j++){todo.options[path][i][j]=toLatLng(todo.options[path][i][j]);}}}else{for(i=0;i<todo.options[path].length;i++){todo.options[path][i]=toLatLng(todo.options[path][i]);}}}
todo.options.map=map;obj=new google.maps[poly](todo.options);objs.push(obj);id=store.add({todo:todo},poly.toLowerCase(),obj);attachEvents($this,{todo:todo},obj,id);});manageEnd(args,multiple?objs:objs[0]);}
this.polyline=function(args){poly(args,"Polyline","path");};this.polygon=function(args){poly(args,"Polygon","paths");};this.trafficlayer=function(args){newMap();var obj=store.get("trafficlayer");if(!obj){obj=new defaults.classes.TrafficLayer();obj.setMap(map);store.add(args,"trafficlayer",obj);}
manageEnd(args,obj);};this.bicyclinglayer=function(args){newMap();var obj=store.get("bicyclinglayer");if(!obj){obj=new defaults.classes.BicyclingLayer();obj.setMap(map);store.add(args,"bicyclinglayer",obj);}
manageEnd(args,obj);};this.groundoverlay=function(args){args.opts.bounds=toLatLngBounds(args.opts.bounds);if(args.opts.bounds){newMap(args.opts.bounds.getCenter());}
var id,obj=new defaults.classes.GroundOverlay(args.opts.url,args.opts.bounds,args.opts.opts);obj.setMap(map);id=store.add(args,"groundoverlay",obj);manageEnd(args,obj,id);};this.streetviewpanorama=function(args){if(!args.opts.opts){args.opts.opts={};}
if(args.latLng){args.opts.opts.position=args.latLng;}else if(args.opts.opts.position){args.opts.opts.position=toLatLng(args.opts.opts.position);}
if(args.todo.divId){args.opts.container=document.getElementById(args.todo.divId)}else if(args.opts.container){args.opts.container=$(args.opts.container).get(0);}
var id,obj=new defaults.classes.StreetViewPanorama(args.opts.container,args.opts.opts);if(obj){map.setStreetView(obj);}
id=store.add(args,"streetviewpanorama",obj);manageEnd(args,obj,id);};this.kmllayer=function(args){var objs=[],multiple="values"in args.todo;if(!multiple){args.todo.values=[{options:args.opts}];}
if(!args.todo.values.length){manageEnd(args,false);return;}
$.each(args.todo.values,function(i,value){var id,obj,options,todo=tuple(args,value);if(!map){newMap();}
options=todo.options;if(todo.options.opts){options=todo.options.opts;if(todo.options.url){options.url=todo.options.url;}}
options.map=map;if(googleVersionMin("3.10")){obj=new defaults.classes.KmlLayer(options);}else{obj=new defaults.classes.KmlLayer(options.url,options);}
objs.push(obj);id=store.add({todo:todo},"kmllayer",obj);attachEvents($this,{todo:todo},obj,id);});manageEnd(args,multiple?objs:objs[0]);};this.panel=function(args){newMap();var id,x=0,y=0,$content,$div=$(document.createElement("div"));$div.css({position:"absolute",zIndex:1000,visibility:"hidden"});if(args.opts.content){$content=$(args.opts.content);$div.append($content);$this.first().prepend($div);if(args.opts.left!==undef){x=args.opts.left;}else if(args.opts.right!==undef){x=$this.width()-$content.width()-args.opts.right;}else if(args.opts.center){x=($this.width()-$content.width())/2;}
if(args.opts.top!==undef){y=args.opts.top;}else if(args.opts.bottom!==undef){y=$this.height()-$content.height()-args.opts.bottom;}else if(args.opts.middle){y=($this.height()-$content.height())/2}
$div.css({top:y,left:x,visibility:"visible"});}
id=store.add(args,"panel",$div);manageEnd(args,$div,id);$div=null;};function createClusterer(raw){var internalClusterer=new InternalClusterer($this,map,raw),todo={},styles={},thresholds=[],isInt=/^[0-9]+$/,calculator,k;for(k in raw){if(isInt.test(k)){thresholds.push(1*k);styles[k]=raw[k];styles[k].width=styles[k].width||0;styles[k].height=styles[k].height||0;}else{todo[k]=raw[k];}}
thresholds.sort(function(a,b){return a>b});if(todo.calculator){calculator=function(indexes){var data=[];$.each(indexes,function(i,index){data.push(internalClusterer.value(index));});return todo.calculator.apply($this,[data]);};}else{calculator=function(indexes){return indexes.length;};}
internalClusterer.error(function(){error.apply(that,arguments);});internalClusterer.display(function(cluster){var i,style,atodo,obj,offset,cnt=calculator(cluster.indexes);if(raw.force||cnt>1){for(i=0;i<thresholds.length;i++){if(thresholds[i]<=cnt){style=styles[thresholds[i]];}}}
if(style){offset=style.offset||[-style.width/2,-style.height/2];atodo=$.extend({},todo);atodo.options=$.extend({pane:"overlayLayer",content:style.content?style.content.replace("CLUSTER_COUNT",cnt):"",offset:{x:("x"in offset?offset.x:offset[0])||0,y:("y"in offset?offset.y:offset[1])||0}},todo.options||{});obj=that.overlay({todo:atodo,opts:atodo.options,latLng:toLatLng(cluster)},true);atodo.options.pane="floatShadow";atodo.options.content=$(document.createElement("div")).width(style.width+"px").height(style.height+"px").css({cursor:"pointer"});shadow=that.overlay({todo:atodo,opts:atodo.options,latLng:toLatLng(cluster)},true);todo.data={latLng:toLatLng(cluster),markers:[]};$.each(cluster.indexes,function(i,index){todo.data.markers.push(internalClusterer.value(index));if(internalClusterer.markerIsSet(index)){internalClusterer.marker(index).setMap(null);}});attachEvents($this,{todo:todo},shadow,undef,{main:obj,shadow:shadow});internalClusterer.store(cluster,obj,shadow);}else{$.each(cluster.indexes,function(i,index){internalClusterer.marker(index).setMap(map);});}});return internalClusterer;}
this.marker=function(args){var multiple="values"in args.todo,init=!map;if(!multiple){args.opts.position=args.latLng||toLatLng(args.opts.position);args.todo.values=[{options:args.opts}];}
if(!args.todo.values.length){manageEnd(args,false);return;}
if(init){newMap();}
if(args.todo.cluster&&!map.getBounds()){google.maps.event.addListenerOnce(map,"bounds_changed",function(){that.marker.apply(that,[args]);});return;}
if(args.todo.cluster){var clusterer,internalClusterer;if(args.todo.cluster instanceof Clusterer){clusterer=args.todo.cluster;internalClusterer=store.getById(clusterer.id(),true);}else{internalClusterer=createClusterer(args.todo.cluster);clusterer=new Clusterer(globalId(args.todo.id,true),internalClusterer);store.add(args,"clusterer",clusterer,internalClusterer);}
internalClusterer.beginUpdate();$.each(args.todo.values,function(i,value){var todo=tuple(args,value);todo.options.position=todo.options.position?toLatLng(todo.options.position):toLatLng(value);todo.options.map=map;if(init){map.setCenter(todo.options.position);init=false;}
internalClusterer.add(todo,value);});internalClusterer.endUpdate();manageEnd(args,clusterer);}else{var objs=[];$.each(args.todo.values,function(i,value){var id,obj,todo=tuple(args,value);todo.options.position=todo.options.position?toLatLng(todo.options.position):toLatLng(value);todo.options.map=map;if(init){map.setCenter(todo.options.position);init=false;}
obj=new defaults.classes.Marker(todo.options);objs.push(obj);id=store.add({todo:todo},"marker",obj);attachEvents($this,{todo:todo},obj,id);});manageEnd(args,multiple?objs:objs[0]);}};this.getroute=function(args){args.opts.origin=toLatLng(args.opts.origin,true);args.opts.destination=toLatLng(args.opts.destination,true);directionsService().route(args.opts,function(results,status){callback(args,status==google.maps.DirectionsStatus.OK?results:false,status);task.ack();});};this.directionsrenderer=function(args){args.opts.map=map;var id,obj=new google.maps.DirectionsRenderer(args.opts);if(args.todo.divId){obj.setPanel(document.getElementById(args.todo.divId));}else if(args.todo.container){obj.setPanel($(args.todo.container).get(0));}
id=store.add(args,"directionsrenderer",obj);manageEnd(args,obj,id);};this.getgeoloc=function(args){manageEnd(args,args.latLng);};this.styledmaptype=function(args){newMap();var obj=new defaults.classes.StyledMapType(args.todo.styles,args.opts);map.mapTypes.set(args.todo.id,obj);manageEnd(args,obj);};this.imagemaptype=function(args){newMap();var obj=new defaults.classes.ImageMapType(args.opts);map.mapTypes.set(args.todo.id,obj);manageEnd(args,obj);};this.autofit=function(args){var bounds=new google.maps.LatLngBounds();$.each(store.all(),function(i,obj){if(obj.getPosition){bounds.extend(obj.getPosition());}else if(obj.getBounds){bounds.extend(obj.getBounds().getNorthEast());bounds.extend(obj.getBounds().getSouthWest());}else if(obj.getPaths){obj.getPaths().forEach(function(path){path.forEach(function(latLng){bounds.extend(latLng);});});}else if(obj.getPath){obj.getPath().forEach(function(latLng){bounds.extend(latLng);""});}else if(obj.getCenter){bounds.extend(obj.getCenter());}else if(obj instanceof Clusterer){obj=store.getById(obj.id(),true);if(obj){obj.autofit(bounds);}}});if(!bounds.isEmpty()&&(!map.getBounds()||!map.getBounds().equals(bounds))){if("maxZoom"in args.todo){google.maps.event.addListenerOnce(map,"bounds_changed",function(){if(this.getZoom()>args.todo.maxZoom){this.setZoom(args.todo.maxZoom);}});}
map.fitBounds(bounds);}
manageEnd(args,true);};this.clear=function(args){if(typeof args.todo==="string"){if(store.clearById(args.todo)||store.objClearById(args.todo)){manageEnd(args,true);return;}
args.todo={name:args.todo};}
if(args.todo.id){$.each(array(args.todo.id),function(i,id){store.clearById(id)||store.objClearById(id);});}else{store.clear(array(args.todo.name),args.todo.last,args.todo.first,args.todo.tag);store.objClear(array(args.todo.name),args.todo.last,args.todo.first,args.todo.tag);}
manageEnd(args,true);};this.exec=function(args){var that=this;$.each(array(args.todo.func),function(i,func){$.each(that.get(args.todo,true,args.todo.hasOwnProperty("full")?args.todo.full:true),function(j,res){func.call($this,res);});});manageEnd(args,true);};this.get=function(args,direct,full){var name,res,todo=direct?args:args.todo;if(!direct){full=todo.full;}
if(typeof todo==="string"){res=store.getById(todo,false,full)||store.objGetById(todo);if(res===false){name=todo;todo={};}}else{name=todo.name;}
if(name==="map"){res=map;}
if(!res){res=[];if(todo.id){$.each(array(todo.id),function(i,id){res.push(store.getById(id,false,full)||store.objGetById(id));});if(!$.isArray(todo.id)){res=res[0];}}else{$.each(name?array(name):[undef],function(i,aName){var result;if(todo.first){result=store.get(aName,false,todo.tag,full);if(result)res.push(result);}else if(todo.all){$.each(store.all(aName,todo.tag,full),function(i,result){res.push(result);});}else{result=store.get(aName,true,todo.tag,full);if(result)res.push(result);}});if(!todo.all&&!$.isArray(name)){res=res[0];}}}
res=$.isArray(res)||!todo.all?res:[res];if(direct){return res;}else{manageEnd(args,res);}};this.getdistance=function(args){var i;args.opts.origins=array(args.opts.origins);for(i=0;i<args.opts.origins.length;i++){args.opts.origins[i]=toLatLng(args.opts.origins[i],true);}
args.opts.destinations=array(args.opts.destinations);for(i=0;i<args.opts.destinations.length;i++){args.opts.destinations[i]=toLatLng(args.opts.destinations[i],true);}
distanceMatrixService().getDistanceMatrix(args.opts,function(results,status){callback(args,status===google.maps.DistanceMatrixStatus.OK?results:false,status);task.ack();});};this.trigger=function(args){if(typeof args.todo==="string"){google.maps.event.trigger(map,args.todo);}else{var options=[map,args.todo.eventName];if(args.todo.var_args){$.each(args.todo.var_args,function(i,v){options.push(v);});}
google.maps.event.trigger.apply(google.maps.event,options);}
callback(args);task.ack();};}
function isDirectGet(obj){var k;if(!typeof obj==="object"||!obj.hasOwnProperty("get")){return false;}
for(k in obj){if(k!=="get"){return false;}}
return!obj.get.hasOwnProperty("callback");}
$.fn.gmap3=function(){var i,list=[],empty=true,results=[];initDefaults();for(i=0;i<arguments.length;i++){if(arguments[i]){list.push(arguments[i]);}}
if(!list.length){list.push("map");}
$.each(this,function(){var $this=$(this),gmap3=$this.data("gmap3");empty=false;if(!gmap3){gmap3=new Gmap3($this);$this.data("gmap3",gmap3);}
if(list.length===1&&(list[0]==="get"||isDirectGet(list[0]))){if(list[0]==="get"){results.push(gmap3.get("map",true));}else{results.push(gmap3.get(list[0].get,true,list[0].get.full));}}else{gmap3._plan(list);}});if(results.length){if(results.length===1){return results[0];}else{return results;}}
return this;}})(jQuery);;
/*!
 Colorbox v1.4.29 - 2013-09-10
 jQuery lightbox and modal window plugin
 (c) 2013 Jack Moore - http://www.jacklmoore.com/colorbox
 license: http://www.opensource.org/licenses/mit-license.php
*/
(function($,document,window){var
defaults={transition:"elastic",speed:300,fadeOut:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,inline:false,html:false,iframe:false,fastIframe:true,photo:false,href:false,title:false,rel:false,opacity:0.9,preloading:true,className:false,retinaImage:false,retinaUrl:false,retinaSuffix:'@2x.$1',current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:false,returnFocus:true,trapFocus:true,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined,closeButton:true},colorbox='colorbox',prefix='cbox',boxElement=prefix+'Element',event_open=prefix+'_open',event_load=prefix+'_load',event_complete=prefix+'_complete',event_cleanup=prefix+'_cleanup',event_closed=prefix+'_closed',event_purge=prefix+'_purge',$overlay,$box,$wrap,$content,$topBorder,$leftBorder,$rightBorder,$bottomBorder,$related,$window,$loaded,$loadingBay,$loadingOverlay,$title,$current,$slideshow,$next,$prev,$close,$groupControls,$events=$('<a/>'),settings,interfaceHeight,interfaceWidth,loadedHeight,loadedWidth,element,index,photo,open,active,closing,loadingTimer,publicMethod,div="div",className,requests=0,previousCSS={},init;function $tag(tag,id,css){var element=document.createElement(tag);if(id){element.id=prefix+id;}
if(css){element.style.cssText=css;}
return $(element);}
function winheight(){return window.innerHeight?window.innerHeight:$(window).height();}
function getIndex(increment){var
max=$related.length,newIndex=(index+increment)%max;return(newIndex<0)?max+newIndex:newIndex;}
function setSize(size,dimension){return Math.round((/%/.test(size)?((dimension==='x'?$window.width():winheight())/100):1)*parseInt(size,10));}
function isImage(settings,url){return settings.photo||settings.photoRegex.test(url);}
function retinaUrl(settings,url){return settings.retinaUrl&&window.devicePixelRatio>1?url.replace(settings.photoRegex,settings.retinaSuffix):url;}
function trapFocus(e){if('contains'in $box[0]&&!$box[0].contains(e.target)){e.stopPropagation();$box.focus();}}
function makeSettings(){var i,data=$.data(element,colorbox);if(data==null){settings=$.extend({},defaults);if(console&&console.log){console.log('Error: cboxElement missing settings object');}}else{settings=$.extend({},data);}
for(i in settings){if($.isFunction(settings[i])&&i.slice(0,2)!=='on'){settings[i]=settings[i].call(element);}}
settings.rel=settings.rel||element.rel||$(element).data('rel')||'nofollow';settings.href=settings.href||$(element).attr('href');settings.title=settings.title||element.title;if(typeof settings.href==="string"){settings.href=$.trim(settings.href);}}
function trigger(event,callback){$(document).trigger(event);$events.trigger(event);if($.isFunction(callback)){callback.call(element);}}
var slideshow=(function(){var active,className=prefix+"Slideshow_",click="click."+prefix,timeOut;function clear(){clearTimeout(timeOut);}
function set(){if(settings.loop||$related[index+1]){clear();timeOut=setTimeout(publicMethod.next,settings.slideshowSpeed);}}
function start(){$slideshow.html(settings.slideshowStop).unbind(click).one(click,stop);$events.bind(event_complete,set).bind(event_load,clear);$box.removeClass(className+"off").addClass(className+"on");}
function stop(){clear();$events.unbind(event_complete,set).unbind(event_load,clear);$slideshow.html(settings.slideshowStart).unbind(click).one(click,function(){publicMethod.next();start();});$box.removeClass(className+"on").addClass(className+"off");}
function reset(){active=false;$slideshow.hide();clear();$events.unbind(event_complete,set).unbind(event_load,clear);$box.removeClass(className+"off "+className+"on");}
return function(){if(active){if(!settings.slideshow){$events.unbind(event_cleanup,reset);reset();}}else{if(settings.slideshow&&$related[1]){active=true;$events.one(event_cleanup,reset);if(settings.slideshowAuto){start();}else{stop();}
$slideshow.show();}}};}());function launch(target){if(!closing){element=target;makeSettings();$related=$(element);index=0;if(settings.rel!=='nofollow'){$related=$('.'+boxElement).filter(function(){var data=$.data(this,colorbox),relRelated;if(data){relRelated=$(this).data('rel')||data.rel||this.rel;}
return(relRelated===settings.rel);});index=$related.index(element);if(index===-1){$related=$related.add(element);index=$related.length-1;}}
$overlay.css({opacity:parseFloat(settings.opacity),cursor:settings.overlayClose?"pointer":"auto",visibility:'visible'}).show();if(className){$box.add($overlay).removeClass(className);}
if(settings.className){$box.add($overlay).addClass(settings.className);}
className=settings.className;if(settings.closeButton){$close.html(settings.close).appendTo($content);}else{$close.appendTo('<div/>');}
if(!open){open=active=true;$box.css({visibility:'hidden',display:'block'});$loaded=$tag(div,'LoadedContent','width:0; height:0; overflow:hidden');$content.css({width:'',height:''}).append($loaded);interfaceHeight=$topBorder.height()+$bottomBorder.height()+$content.outerHeight(true)-$content.height();interfaceWidth=$leftBorder.width()+$rightBorder.width()+$content.outerWidth(true)-$content.width();loadedHeight=$loaded.outerHeight(true);loadedWidth=$loaded.outerWidth(true);settings.w=setSize(settings.initialWidth,'x');settings.h=setSize(settings.initialHeight,'y');$loaded.css({width:'',height:settings.h});publicMethod.position();trigger(event_open,settings.onOpen);$groupControls.add($title).hide();$box.focus();if(settings.trapFocus){if(document.addEventListener){document.addEventListener('focus',trapFocus,true);$events.one(event_closed,function(){document.removeEventListener('focus',trapFocus,true);});}}
if(settings.returnFocus){$events.one(event_closed,function(){$(element).focus();});}}
load();}}
function appendHTML(){if(!$box&&document.body){init=false;$window=$(window);$box=$tag(div).attr({id:colorbox,'class':$.support.opacity===false?prefix+'IE':'',role:'dialog',tabindex:'-1'}).hide();$overlay=$tag(div,"Overlay").hide();$loadingOverlay=$([$tag(div,"LoadingOverlay")[0],$tag(div,"LoadingGraphic")[0]]);$wrap=$tag(div,"Wrapper");$content=$tag(div,"Content").append($title=$tag(div,"Title"),$current=$tag(div,"Current"),$prev=$('<button type="button"/>').attr({id:prefix+'Previous'}),$next=$('<button type="button"/>').attr({id:prefix+'Next'}),$slideshow=$tag('button',"Slideshow"),$loadingOverlay);$close=$('<button type="button"/>').attr({id:prefix+'Close'});$wrap.append($tag(div).append($tag(div,"TopLeft"),$topBorder=$tag(div,"TopCenter"),$tag(div,"TopRight")),$tag(div,false,'clear:left').append($leftBorder=$tag(div,"MiddleLeft"),$content,$rightBorder=$tag(div,"MiddleRight")),$tag(div,false,'clear:left').append($tag(div,"BottomLeft"),$bottomBorder=$tag(div,"BottomCenter"),$tag(div,"BottomRight"))).find('div div').css({'float':'left'});$loadingBay=$tag(div,false,'position:absolute; width:9999px; visibility:hidden; display:none');$groupControls=$next.add($prev).add($current).add($slideshow);$(document.body).append($overlay,$box.append($wrap,$loadingBay));}}
function addBindings(){function clickHandler(e){if(!(e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)){e.preventDefault();launch(this);}}
if($box){if(!init){init=true;$next.click(function(){publicMethod.next();});$prev.click(function(){publicMethod.prev();});$close.click(function(){publicMethod.close();});$overlay.click(function(){if(settings.overlayClose){publicMethod.close();}});$(document).bind('keydown.'+prefix,function(e){var key=e.keyCode;if(open&&settings.escKey&&key===27){e.preventDefault();publicMethod.close();}
if(open&&settings.arrowKey&&$related[1]&&!e.altKey){if(key===37){e.preventDefault();$prev.click();}else if(key===39){e.preventDefault();$next.click();}}});if($.isFunction($.fn.on)){$(document).on('click.'+prefix,'.'+boxElement,clickHandler);}else{$('.'+boxElement).live('click.'+prefix,clickHandler);}}
return true;}
return false;}
if($.colorbox){return;}
$(appendHTML);publicMethod=$.fn[colorbox]=$[colorbox]=function(options,callback){var $this=this;options=options||{};appendHTML();if(addBindings()){if($.isFunction($this)){$this=$('<a/>');options.open=true;}else if(!$this[0]){return $this;}
if(callback){options.onComplete=callback;}
$this.each(function(){$.data(this,colorbox,$.extend({},$.data(this,colorbox)||defaults,options));}).addClass(boxElement);if(($.isFunction(options.open)&&options.open.call($this))||options.open){launch($this[0]);}}
return $this;};publicMethod.position=function(speed,loadedCallback){var
css,top=0,left=0,offset=$box.offset(),scrollTop,scrollLeft;$window.unbind('resize.'+prefix);$box.css({top:-9e4,left:-9e4});scrollTop=$window.scrollTop();scrollLeft=$window.scrollLeft();if(settings.fixed){offset.top-=scrollTop;offset.left-=scrollLeft;$box.css({position:'fixed'});}else{top=scrollTop;left=scrollLeft;$box.css({position:'absolute'});}
if(settings.right!==false){left+=Math.max($window.width()-settings.w-loadedWidth-interfaceWidth-setSize(settings.right,'x'),0);}else if(settings.left!==false){left+=setSize(settings.left,'x');}else{left+=Math.round(Math.max($window.width()-settings.w-loadedWidth-interfaceWidth,0)/2);}
if(settings.bottom!==false){top+=Math.max(winheight()-settings.h-loadedHeight-interfaceHeight-setSize(settings.bottom,'y'),0);}else if(settings.top!==false){top+=setSize(settings.top,'y');}else{top+=Math.round(Math.max(winheight()-settings.h-loadedHeight-interfaceHeight,0)/2);}
$box.css({top:offset.top,left:offset.left,visibility:'visible'});$wrap[0].style.width=$wrap[0].style.height="9999px";function modalDimensions(){$topBorder[0].style.width=$bottomBorder[0].style.width=$content[0].style.width=(parseInt($box[0].style.width,10)-interfaceWidth)+'px';$content[0].style.height=$leftBorder[0].style.height=$rightBorder[0].style.height=(parseInt($box[0].style.height,10)-interfaceHeight)+'px';}
css={width:settings.w+loadedWidth+interfaceWidth,height:settings.h+loadedHeight+interfaceHeight,top:top,left:left};if(speed){var tempSpeed=0;$.each(css,function(i){if(css[i]!==previousCSS[i]){tempSpeed=speed;return;}});speed=tempSpeed;}
previousCSS=css;if(!speed){$box.css(css);}
$box.dequeue().animate(css,{duration:speed||0,complete:function(){modalDimensions();active=false;$wrap[0].style.width=(settings.w+loadedWidth+interfaceWidth)+"px";$wrap[0].style.height=(settings.h+loadedHeight+interfaceHeight)+"px";if(settings.reposition){setTimeout(function(){$window.bind('resize.'+prefix,publicMethod.position);},1);}
if(loadedCallback){loadedCallback();}},step:modalDimensions});};publicMethod.resize=function(options){var scrolltop;if(open){options=options||{};if(options.width){settings.w=setSize(options.width,'x')-loadedWidth-interfaceWidth;}
if(options.innerWidth){settings.w=setSize(options.innerWidth,'x');}
$loaded.css({width:settings.w});if(options.height){settings.h=setSize(options.height,'y')-loadedHeight-interfaceHeight;}
if(options.innerHeight){settings.h=setSize(options.innerHeight,'y');}
if(!options.innerHeight&&!options.height){scrolltop=$loaded.scrollTop();$loaded.css({height:"auto"});settings.h=$loaded.height();}
$loaded.css({height:settings.h});if(scrolltop){$loaded.scrollTop(scrolltop);}
publicMethod.position(settings.transition==="none"?0:settings.speed);}};publicMethod.prep=function(object){if(!open){return;}
var callback,speed=settings.transition==="none"?0:settings.speed;$loaded.empty().remove();$loaded=$tag(div,'LoadedContent').append(object);function getWidth(){settings.w=settings.w||$loaded.width();settings.w=settings.mw&&settings.mw<settings.w?settings.mw:settings.w;return settings.w;}
function getHeight(){settings.h=settings.h||$loaded.height();settings.h=settings.mh&&settings.mh<settings.h?settings.mh:settings.h;return settings.h;}
$loaded.hide().appendTo($loadingBay.show()).css({width:getWidth(),overflow:settings.scrolling?'auto':'hidden'}).css({height:getHeight()}).prependTo($content);$loadingBay.hide();$(photo).css({'float':'none'});callback=function(){var total=$related.length,iframe,frameBorder='frameBorder',allowTransparency='allowTransparency',complete;if(!open){return;}
function removeFilter(){if($.support.opacity===false){$box[0].style.removeAttribute('filter');}}
complete=function(){clearTimeout(loadingTimer);$loadingOverlay.hide();trigger(event_complete,settings.onComplete);};$title.html(settings.title).add($loaded).show();if(total>1){if(typeof settings.current==="string"){$current.html(settings.current.replace('{current}',index+1).replace('{total}',total)).show();}
$next[(settings.loop||index<total-1)?"show":"hide"]().html(settings.next);$prev[(settings.loop||index)?"show":"hide"]().html(settings.previous);slideshow();if(settings.preloading){$.each([getIndex(-1),getIndex(1)],function(){var src,img,i=$related[this],data=$.data(i,colorbox);if(data&&data.href){src=data.href;if($.isFunction(src)){src=src.call(i);}}else{src=$(i).attr('href');}
if(src&&isImage(data,src)){src=retinaUrl(data,src);img=document.createElement('img');img.src=src;}});}}else{$groupControls.hide();}
if(settings.iframe){iframe=$tag('iframe')[0];if(frameBorder in iframe){iframe[frameBorder]=0;}
if(allowTransparency in iframe){iframe[allowTransparency]="true";}
if(!settings.scrolling){iframe.scrolling="no";}
$(iframe).attr({src:settings.href,name:(new Date()).getTime(),'class':prefix+'Iframe',allowFullScreen:true,webkitAllowFullScreen:true,mozallowfullscreen:true}).one('load',complete).appendTo($loaded);$events.one(event_purge,function(){iframe.src="//about:blank";});if(settings.fastIframe){$(iframe).trigger('load');}}else{complete();}
if(settings.transition==='fade'){$box.fadeTo(speed,1,removeFilter);}else{removeFilter();}};if(settings.transition==='fade'){$box.fadeTo(speed,0,function(){publicMethod.position(0,callback);});}else{publicMethod.position(speed,callback);}};function load(){var href,setResize,prep=publicMethod.prep,$inline,request=++requests;active=true;photo=false;element=$related[index];makeSettings();trigger(event_purge);trigger(event_load,settings.onLoad);settings.h=settings.height?setSize(settings.height,'y')-loadedHeight-interfaceHeight:settings.innerHeight&&setSize(settings.innerHeight,'y');settings.w=settings.width?setSize(settings.width,'x')-loadedWidth-interfaceWidth:settings.innerWidth&&setSize(settings.innerWidth,'x');settings.mw=settings.w;settings.mh=settings.h;if(settings.maxWidth){settings.mw=setSize(settings.maxWidth,'x')-loadedWidth-interfaceWidth;settings.mw=settings.w&&settings.w<settings.mw?settings.w:settings.mw;}
if(settings.maxHeight){settings.mh=setSize(settings.maxHeight,'y')-loadedHeight-interfaceHeight;settings.mh=settings.h&&settings.h<settings.mh?settings.h:settings.mh;}
href=settings.href;loadingTimer=setTimeout(function(){$loadingOverlay.show();},100);if(settings.inline){$inline=$tag(div).hide().insertBefore($(href)[0]);$events.one(event_purge,function(){$inline.replaceWith($loaded.children());});prep($(href));}else if(settings.iframe){prep(" ");}else if(settings.html){prep(settings.html);}else if(isImage(settings,href)){href=retinaUrl(settings,href);photo=document.createElement('img');$(photo).addClass(prefix+'Photo').bind('error',function(){settings.title=false;prep($tag(div,'Error').html(settings.imgError));}).one('load',function(){var percent;if(request!==requests){return;}
photo.alt=$(element).attr('alt')||$(element).attr('data-alt')||'';if(settings.retinaImage&&window.devicePixelRatio>1){photo.height=photo.height/window.devicePixelRatio;photo.width=photo.width/window.devicePixelRatio;}
if(settings.scalePhotos){setResize=function(){photo.height-=photo.height*percent;photo.width-=photo.width*percent;};if(settings.mw&&photo.width>settings.mw){percent=(photo.width-settings.mw)/photo.width;setResize();}
if(settings.mh&&photo.height>settings.mh){percent=(photo.height-settings.mh)/photo.height;setResize();}}
if(settings.h){photo.style.marginTop=Math.max(settings.mh-photo.height,0)/2+'px';}
if($related[1]&&(settings.loop||$related[index+1])){photo.style.cursor='pointer';photo.onclick=function(){publicMethod.next();};}
photo.style.width=photo.width+'px';photo.style.height=photo.height+'px';setTimeout(function(){prep(photo);},1);});setTimeout(function(){photo.src=href;},1);}else if(href){$loadingBay.load(href,settings.data,function(data,status){if(request===requests){prep(status==='error'?$tag(div,'Error').html(settings.xhrError):$(this).contents());}});}}
publicMethod.next=function(){if(!active&&$related[1]&&(settings.loop||$related[index+1])){index=getIndex(1);launch($related[index]);}};publicMethod.prev=function(){if(!active&&$related[1]&&(settings.loop||index)){index=getIndex(-1);launch($related[index]);}};publicMethod.close=function(){if(open&&!closing){closing=true;open=false;trigger(event_cleanup,settings.onCleanup);$window.unbind('.'+prefix);$overlay.fadeTo(settings.fadeOut||0,0);$box.stop().fadeTo(settings.fadeOut||0,0,function(){$box.add($overlay).css({'opacity':1,cursor:'auto'}).hide();trigger(event_purge);$loaded.empty().remove();setTimeout(function(){closing=false;trigger(event_closed,settings.onClosed);},1);});}};publicMethod.remove=function(){if(!$box){return;}
$box.stop();$.colorbox.close();$box.stop().remove();$overlay.remove();closing=false;$box=null;$('.'+boxElement).removeData(colorbox).removeClass(boxElement);$(document).unbind('click.'+prefix);};publicMethod.element=function(){return $(element);};publicMethod.settings=defaults;}(jQuery,document,window));
;/*
Uploadify v2.1.4
Release Date: November 8, 2010

Copyright (c) 2010 Ronnie Garcia, Travis Nickels

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

if(jQuery){(function(a){a.extend(a.fn,{uploadify:function(b){a(this).each(function(){var f=a.extend({id:a(this).attr("id"),uploader:"uploadify.swf",script:"uploadify.php",expressInstall:null,folder:"",height:30,width:120,cancelImg:"cancel.png",wmode:"opaque",scriptAccess:"sameDomain",fileDataName:"Filedata",method:"POST",queueSizeLimit:999,simUploadLimit:1,queueID:false,displayData:"percentage",removeCompleted:true,onInit:function(){},onSelect:function(){},onSelectOnce:function(){},onQueueFull:function(){},onCheck:function(){},onCancel:function(){},onClearQueue:function(){},onError:function(){},onProgress:function(){},onComplete:function(){},onAllComplete:function(){}},b);a(this).data("settings",f);var e=location.pathname;e=e.split("/");e.pop();e=e.join("/")+"/";var g={};g.uploadifyID=f.id;g.pagepath=e;if(f.buttonImg){g.buttonImg=escape(f.buttonImg)}if(f.buttonText){g.buttonText=escape(f.buttonText)}if(f.rollover){g.rollover=true}g.script=f.script;g.folder=escape(f.folder);if(f.scriptData){var h="";for(var d in f.scriptData){h+="&"+d+"="+f.scriptData[d]}g.scriptData=escape(h.substr(1))}g.width=f.width;g.height=f.height;g.wmode=f.wmode;g.method=f.method;g.queueSizeLimit=f.queueSizeLimit;g.simUploadLimit=f.simUploadLimit;if(f.hideButton){g.hideButton=true}if(f.fileDesc){g.fileDesc=f.fileDesc}if(f.fileExt){g.fileExt=f.fileExt}if(f.multi){g.multi=true}if(f.auto){g.auto=true}if(f.sizeLimit){g.sizeLimit=f.sizeLimit}if(f.checkScript){g.checkScript=f.checkScript}if(f.fileDataName){g.fileDataName=f.fileDataName}if(f.queueID){g.queueID=f.queueID}if(f.onInit()!==false){a(this).css("display","none");a(this).after('<div id="'+a(this).attr("id")+'Uploader"></div>');swfobject.embedSWF(f.uploader,f.id+"Uploader",f.width,f.height,"9.0.24",f.expressInstall,g,{quality:"high",wmode:f.wmode,allowScriptAccess:f.scriptAccess},{},function(i){if(typeof(f.onSWFReady)=="function"&&i.success){f.onSWFReady()}});if(f.queueID==false){a("#"+a(this).attr("id")+"Uploader").after('<div id="'+a(this).attr("id")+'Queue" class="uploadifyQueue"></div>')}else{a("#"+f.queueID).addClass("uploadifyQueue")}}if(typeof(f.onOpen)=="function"){a(this).bind("uploadifyOpen",f.onOpen)}a(this).bind("uploadifySelect",{action:f.onSelect,queueID:f.queueID},function(k,i,j){if(k.data.action(k,i,j)!==false){var l=Math.round(j.size/1024*100)*0.01;var m="KB";if(l>1000){l=Math.round(l*0.001*100)*0.01;m="MB"}var n=l.toString().split(".");if(n.length>1){l=n[0]+"."+n[1].substr(0,2)}else{l=n[0]}if(j.name.length>20){fileName=j.name.substr(0,20)+"..."}else{fileName=j.name}queue="#"+a(this).attr("id")+"Queue";if(k.data.queueID){queue="#"+k.data.queueID}a(queue).append('<div id="'+a(this).attr("id")+i+'" class="uploadifyQueueItem"><div class="cancel"><a href="javascript:jQuery(\'#'+a(this).attr("id")+"').uploadifyCancel('"+i+'\')"><img src="'+f.cancelImg+'" border="0" /></a></div><span class="fileName">'+fileName+" ("+l+m+')</span><span class="percentage"></span><div class="uploadifyProgress"><div id="'+a(this).attr("id")+i+'ProgressBar" class="uploadifyProgressBar"><!--Progress Bar--></div></div></div>')}});a(this).bind("uploadifySelectOnce",{action:f.onSelectOnce},function(i,j){i.data.action(i,j);if(f.auto){if(f.checkScript){a(this).uploadifyUpload(null,false)}else{a(this).uploadifyUpload(null,true)}}});a(this).bind("uploadifyQueueFull",{action:f.onQueueFull},function(i,j){if(i.data.action(i,j)!==false){alert("The queue is full.  The max size is "+j+".")}});a(this).bind("uploadifyCheckExist",{action:f.onCheck},function(n,m,l,k,p){var j=new Object();j=l;j.folder=(k.substr(0,1)=="/")?k:e+k;if(p){for(var i in l){var o=i}}a.post(m,j,function(s){for(var q in s){if(n.data.action(n,s,q)!==false){var r=confirm("Do you want to replace the file "+s[q]+"?");if(!r){document.getElementById(a(n.target).attr("id")+"Uploader").cancelFileUpload(q,true,true)}}}if(p){document.getElementById(a(n.target).attr("id")+"Uploader").startFileUpload(o,true)}else{document.getElementById(a(n.target).attr("id")+"Uploader").startFileUpload(null,true)}},"json")});a(this).bind("uploadifyCancel",{action:f.onCancel},function(n,j,m,o,i,l){if(n.data.action(n,j,m,o,l)!==false){if(i){var k=(l==true)?0:250;a("#"+a(this).attr("id")+j).fadeOut(k,function(){a(this).remove()})}}});a(this).bind("uploadifyClearQueue",{action:f.onClearQueue},function(k,j){var i=(f.queueID)?f.queueID:a(this).attr("id")+"Queue";if(j){a("#"+i).find(".uploadifyQueueItem").remove()}if(k.data.action(k,j)!==false){a("#"+i).find(".uploadifyQueueItem").each(function(){var l=a(".uploadifyQueueItem").index(this);a(this).delay(l*100).fadeOut(250,function(){a(this).remove()})})}});var c=[];a(this).bind("uploadifyError",{action:f.onError},function(m,i,l,k){if(m.data.action(m,i,l,k)!==false){var j=new Array(i,l,k);c.push(j);a("#"+a(this).attr("id")+i).find(".percentage").text(" - "+k.type+" Error");a("#"+a(this).attr("id")+i).find(".uploadifyProgress").hide();a("#"+a(this).attr("id")+i).addClass("uploadifyError")}});if(typeof(f.onUpload)=="function"){a(this).bind("uploadifyUpload",f.onUpload)}a(this).bind("uploadifyProgress",{action:f.onProgress,toDisplay:f.displayData},function(k,i,j,l){if(k.data.action(k,i,j,l)!==false){a("#"+a(this).attr("id")+i+"ProgressBar").animate({width:l.percentage+"%"},250,function(){if(l.percentage==100){a(this).closest(".uploadifyProgress").fadeOut(250,function(){a(this).remove()})}});if(k.data.toDisplay=="percentage"){displayData=" - "+l.percentage+"%"}if(k.data.toDisplay=="speed"){displayData=" - "+l.speed+"KB/s"}if(k.data.toDisplay==null){displayData=" "}a("#"+a(this).attr("id")+i).find(".percentage").text(displayData)}});a(this).bind("uploadifyComplete",{action:f.onComplete},function(l,i,k,j,m){if(l.data.action(l,i,k,unescape(j),m)!==false){a("#"+a(this).attr("id")+i).find(".percentage").text(" - Completed");if(f.removeCompleted){a("#"+a(l.target).attr("id")+i).fadeOut(250,function(){a(this).remove()})}a("#"+a(l.target).attr("id")+i).addClass("completed")}});if(typeof(f.onAllComplete)=="function"){a(this).bind("uploadifyAllComplete",{action:f.onAllComplete},function(i,j){if(i.data.action(i,j)!==false){c=[]}})}})},uploadifySettings:function(f,j,c){var g=false;a(this).each(function(){if(f=="scriptData"&&j!=null){if(c){var i=j}else{var i=a.extend(a(this).data("settings").scriptData,j)}var l="";for(var k in i){l+="&"+k+"="+i[k]}j=escape(l.substr(1))}g=document.getElementById(a(this).attr("id")+"Uploader").updateSettings(f,j)});if(j==null){if(f=="scriptData"){var b=unescape(g).split("&");var e=new Object();for(var d=0;d<b.length;d++){var h=b[d].split("=");e[h[0]]=h[1]}g=e}}return g},uploadifyUpload:function(b,c){a(this).each(function(){if(!c){c=false}document.getElementById(a(this).attr("id")+"Uploader").startFileUpload(b,c)})},uploadifyCancel:function(b){a(this).each(function(){document.getElementById(a(this).attr("id")+"Uploader").cancelFileUpload(b,true,true,false)})},uploadifyClearQueue:function(){a(this).each(function(){document.getElementById(a(this).attr("id")+"Uploader").clearFileUploadQueue(false)})}})})(jQuery)};
;(function($){$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var cfg={interval:100,sensitivity:7,timeout:0};if(typeof handlerIn==="object"){cfg=$.extend(cfg,handlerIn);}else if($.isFunction(handlerOut)){cfg=$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector});}else{cfg=$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut});}
var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).off("mousemove.hoverIntent",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}
if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).on("mousemove.hoverIntent",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).off("mousemove.hoverIntent",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.on({'mouseenter.hoverIntent':handleHover,'mouseleave.hoverIntent':handleHover},cfg.selector);};})(jQuery);;(function($){$.extend({metadata:{defaults:{type:'class',name:'metadata',cre:/({.*})/,single:'metadata'},setType:function(type,name){this.defaults.type=type;this.defaults.name=name;},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length)settings.single='metadata';var data=$.data(elem,settings.single);if(data)return data;data="{}";var getData=function(data){if(typeof data!="string")return data;if(data.indexOf('{')<0){data=eval("("+data+")");}}
var getObject=function(data){if(typeof data!="string")return data;data=eval("("+data+")");return data;}
if(settings.type=="html5"){var object={};$(elem.attributes).each(function(){var name=this.nodeName;if(name.match(/^data-/))name=name.replace(/^data-/,'');else return true;object[name]=getObject(this.nodeValue);});}else{if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m)
data=m[1];}else if(settings.type=="elem"){if(!elem.getElementsByTagName)return;var e=elem.getElementsByTagName(settings.name);if(e.length)
data=$.trim(e[0].innerHTML);}else if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr)
data=attr;}
object=getObject(data.indexOf("{")<0?"{"+data+"}":data);}
$.data(elem,settings.single,object);return object;}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts);};})(jQuery);;$.fn.passwordStrength=function(options){return this.each(function(){var that=this;that.opts={};that.opts=$.extend({},$.fn.passwordStrength.defaults,options);that.div=$(that.opts.targetDiv);that.defaultClass=that.div.attr('class');that.percents=(that.opts.classes.length)?100/that.opts.classes.length:100;v=$(this).keyup(function(){if(typeof el=="undefined")
this.el=$(this);var s=getPasswordStrength(this.value);var p=this.percents;var t=Math.floor(s/p);if(100<=s)
t=this.opts.classes.length-1;this.div.removeAttr('class').addClass(this.defaultClass).addClass(this.opts.classes[t]);});});function getPasswordStrength(H){var D=(H.length);if(D>5){D=5;}
var F=H.replace(/[0-9]/g,"");var G=(H.length-F.length);if(G>3){G=3;}
var A=H.replace(/\W/g,"");var C=(H.length-A.length);if(C>3){C=3;}
var B=H.replace(/[A-Z]/g,"");var I=(H.length-B.length);if(I>3){I=3;}
var E=((D*10)-20)+(G*10)+(C*15)+(I*10);if(E<0){E=0;}
if(E>100){E=100;}
return E;}};$.fn.passwordStrength.defaults={classes:Array('is10','is20','is30','is40','is50','is60','is70','is80','is90','is100'),targetDiv:'#passwordStrengthDiv',cache:{}};;jQuery.url=function(){var segments={};var parsed={};var options={url:window.location,strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var parseUri=function(){str=decodeURI(options.url);var m=options.parser[options.strictMode?"strict":"loose"].exec(str);var uri={};var i=14;while(i--){uri[options.key[i]]=m[i]||""}uri[options.q.name]={};uri[options.key[12]].replace(options.q.parser,function($0,$1,$2){if($1){uri[options.q.name][$1]=$2}});return uri};var key=function(key){if(!parsed.length){setUp()}if(key=="base"){if(parsed.port!==null&&parsed.port!==""){return parsed.protocol+"://"+parsed.host+":"+parsed.port+"/"}else{return parsed.protocol+"://"+parsed.host+"/"}}return(parsed[key]==="")?null:parsed[key]};var param=function(item){if(!parsed.length){setUp()}return(parsed.queryKey[item]===null)?null:parsed.queryKey[item]};var setUp=function(){parsed=parseUri();getSegments()};var getSegments=function(){var p=parsed.path;segments=[];segments=parsed.path.length==1?{}:(p.charAt(p.length-1)=="/"?p.substring(1,p.length-1):path=p.substring(1)).split("/")};return{setMode:function(mode){strictMode=mode=="strict"?true:false;return this},setUrl:function(newUri){options.url=newUri===undefined?window.location:newUri;setUp();return this},segment:function(pos){if(!parsed.length){setUp()}if(pos===undefined){return segments.length}return(segments[pos]===""||segments[pos]===undefined)?null:segments[pos]},attr:key,param:param}}();;;(function($){"use strict";var methods=(function(){var c={bcClass:'sf-breadcrumb',menuClass:'sf-js-enabled',anchorClass:'sf-with-ul',menuArrowClass:'sf-arrows'},ios=(function(){var ios=/iPhone|iPad|iPod/i.test(navigator.userAgent);if(ios){$(window).load(function(){$('body').children().on('click',$.noop);});}
return ios;})(),wp7=(function(){var style=document.documentElement.style;return('behavior'in style&&'fill'in style&&/iemobile/i.test(navigator.userAgent));})(),toggleMenuClasses=function($menu,o){var classes=c.menuClass;if(o.cssArrows){classes+=' '+c.menuArrowClass;}
$menu.toggleClass(classes);},setPathToCurrent=function($menu,o){return $menu.find('li.'+o.pathClass).slice(0,o.pathLevels).addClass(o.hoverClass+' '+c.bcClass).filter(function(){return($(this).children(o.popUpSelector).hide().show().length);}).removeClass(o.pathClass);},toggleAnchorClass=function($li){$li.children('a').toggleClass(c.anchorClass);},toggleTouchAction=function($menu){var touchAction=$menu.css('ms-touch-action');touchAction=(touchAction==='pan-y')?'auto':'pan-y';$menu.css('ms-touch-action',touchAction);},applyHandlers=function($menu,o){var targets='li:has('+o.popUpSelector+')';if($.fn.hoverIntent&&!o.disableHI){$menu.hoverIntent(over,out,targets);}
else{$menu.on('mouseenter.superfish',targets,over).on('mouseleave.superfish',targets,out);}
var touchevent='MSPointerDown.superfish';if(!ios){touchevent+=' touchend.superfish';}
if(wp7){touchevent+=' mousedown.superfish';}
$menu.on('focusin.superfish','li',over).on('focusout.superfish','li',out).on(touchevent,'a',o,touchHandler);},touchHandler=function(e){var $this=$(this),$ul=$this.siblings(e.data.popUpSelector);if($ul.length>0&&$ul.is(':hidden')){$this.one('click.superfish',false);if(e.type==='MSPointerDown'){$this.trigger('focus');}else{$.proxy(over,$this.parent('li'))();}}},over=function(){var $this=$(this),o=getOptions($this);clearTimeout(o.sfTimer);$this.siblings().superfish('hide').end().superfish('show');},out=function(){var $this=$(this),o=getOptions($this);if(ios){$.proxy(close,$this,o)();}
else{clearTimeout(o.sfTimer);o.sfTimer=setTimeout($.proxy(close,$this,o),o.delay);}},close=function(o){o.retainPath=($.inArray(this[0],o.$path)>-1);this.superfish('hide');if(!this.parents('.'+o.hoverClass).length){o.onIdle.call(getMenu(this));if(o.$path.length){$.proxy(over,o.$path)();}}},getMenu=function($el){return $el.closest('.'+c.menuClass);},getOptions=function($el){return getMenu($el).data('sf-options');};return{hide:function(instant){if(this.length){var $this=this,o=getOptions($this);if(!o){return this;}
var not=(o.retainPath===true)?o.$path:'',$ul=$this.find('li.'+o.hoverClass).add(this).not(not).removeClass(o.hoverClass).children(o.popUpSelector),speed=o.speedOut;if(instant){$ul.show();speed=0;}
o.retainPath=false;o.onBeforeHide.call($ul);$ul.stop(true,true).animate(o.animationOut,speed,function(){var $this=$(this);o.onHide.call($this);});}
return this;},show:function(){var o=getOptions(this);if(!o){return this;}
var $this=this.addClass(o.hoverClass),$ul=$this.children(o.popUpSelector);o.onBeforeShow.call($ul);$ul.stop(true,true).animate(o.animation,o.speed,function(){o.onShow.call($ul);});return this;},destroy:function(){return this.each(function(){var $this=$(this),o=$this.data('sf-options'),$hasPopUp;if(!o){return false;}
$hasPopUp=$this.find(o.popUpSelector).parent('li');clearTimeout(o.sfTimer);toggleMenuClasses($this,o);toggleAnchorClass($hasPopUp);toggleTouchAction($this);$this.off('.superfish').off('.hoverIntent');$hasPopUp.children(o.popUpSelector).attr('style',function(i,style){return style.replace(/display[^;]+;?/g,'');});o.$path.removeClass(o.hoverClass+' '+c.bcClass).addClass(o.pathClass);$this.find('.'+o.hoverClass).removeClass(o.hoverClass);o.onDestroy.call($this);$this.removeData('sf-options');});},init:function(op){return this.each(function(){var $this=$(this);if($this.data('sf-options')){return false;}
var o=$.extend({},$.fn.superfish.defaults,op),$hasPopUp=$this.find(o.popUpSelector).parent('li');o.$path=setPathToCurrent($this,o);$this.data('sf-options',o);toggleMenuClasses($this,o);toggleAnchorClass($hasPopUp);toggleTouchAction($this);applyHandlers($this,o);$hasPopUp.not('.'+c.bcClass).superfish('hide',true);o.onInit.call(this);});}};})();$.fn.superfish=function(method,args){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}
else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}
else{return $.error('Method '+method+' does not exist on jQuery.fn.superfish');}};$.fn.superfish.defaults={popUpSelector:'ul,.sf-mega',hoverClass:'sfHover',pathClass:'overrideThisToUse',pathLevels:1,delay:800,animation:{opacity:'show'},animationOut:{opacity:'hide'},speed:'normal',speedOut:'fast',cssArrows:true,disableHI:false,onInit:$.noop,onBeforeShow:$.noop,onShow:$.noop,onBeforeHide:$.noop,onHide:$.noop,onIdle:$.noop,onDestroy:$.noop};$.fn.extend({hideSuperfishUl:methods.hide,showSuperfishUl:methods.show});})(jQuery);;var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{};jaaulde.utils.cookies=(function()
{var resolveOptions,assembleOptionsString,parseCookies,constructor,defaultOptions={expiresAt:null,path:'/',domain:null,secure:false};resolveOptions=function(options)
{var returnValue,expireDate;if(typeof options!=='object'||options===null)
{returnValue=defaultOptions;}
else
{returnValue={expiresAt:defaultOptions.expiresAt,path:defaultOptions.path,domain:defaultOptions.domain,secure:defaultOptions.secure};if(typeof options.expiresAt==='object'&&options.expiresAt instanceof Date)
{returnValue.expiresAt=options.expiresAt;}
else if(typeof options.hoursToLive==='number'&&options.hoursToLive!==0)
{expireDate=new Date();expireDate.setTime(expireDate.getTime()+(options.hoursToLive*60*60*1000));returnValue.expiresAt=expireDate;}
if(typeof options.path==='string'&&options.path!=='')
{returnValue.path=options.path;}
if(typeof options.domain==='string'&&options.domain!=='')
{returnValue.domain=options.domain;}
if(options.secure===true)
{returnValue.secure=options.secure;}}
return returnValue;};assembleOptionsString=function(options)
{options=resolveOptions(options);return((typeof options.expiresAt==='object'&&options.expiresAt instanceof Date?'; expires='+options.expiresAt.toGMTString():'')+'; path='+options.path+
(typeof options.domain==='string'?'; domain='+options.domain:'')+
(options.secure===true?'; secure':''));};parseCookies=function()
{var cookies={},i,pair,name,value,separated=document.cookie.split(';'),unparsedValue;for(i=0;i<separated.length;i=i+1)
{pair=separated[i].split('=');name=pair[0].replace(/^\s*/,'').replace(/\s*$/,'');try
{value=decodeURIComponent(pair[1]);}
catch(e1)
{value=pair[1];}
if(typeof JSON==='object'&&JSON!==null&&typeof JSON.parse==='function')
{try
{unparsedValue=value;value=JSON.parse(value);}
catch(e2)
{value=unparsedValue;}}
cookies[name]=value;}
return cookies;};constructor=function(){};constructor.prototype.get=function(cookieName)
{var returnValue,item,cookies=parseCookies();if(typeof cookieName==='string')
{returnValue=(typeof cookies[cookieName]!=='undefined')?cookies[cookieName]:null;}
else if(typeof cookieName==='object'&&cookieName!==null)
{returnValue={};for(item in cookieName)
{if(typeof cookies[cookieName[item]]!=='undefined')
{returnValue[cookieName[item]]=cookies[cookieName[item]];}
else
{returnValue[cookieName[item]]=null;}}}
else
{returnValue=cookies;}
return returnValue;};constructor.prototype.filter=function(cookieNameRegExp)
{var cookieName,returnValue={},cookies=parseCookies();if(typeof cookieNameRegExp==='string')
{cookieNameRegExp=new RegExp(cookieNameRegExp);}
for(cookieName in cookies)
{if(cookieName.match(cookieNameRegExp))
{returnValue[cookieName]=cookies[cookieName];}}
return returnValue;};constructor.prototype.set=function(cookieName,value,options)
{if(typeof options!=='object'||options===null)
{options={};}
if(typeof value==='undefined'||value===null)
{value='';options.hoursToLive=-8760;}
else if(typeof value!=='string')
{if(typeof JSON==='object'&&JSON!==null&&typeof JSON.stringify==='function')
{value=JSON.stringify(value);}
else
{throw new Error('cookies.set() received non-string value and could not serialize.');}}
var optionsString=assembleOptionsString(options);document.cookie=cookieName+'='+encodeURIComponent(value)+optionsString;};constructor.prototype.del=function(cookieName,options)
{var allCookies={},name;if(typeof options!=='object'||options===null)
{options={};}
if(typeof cookieName==='boolean'&&cookieName===true)
{allCookies=this.get();}
else if(typeof cookieName==='string')
{allCookies[cookieName]=true;}
for(name in allCookies)
{if(typeof name==='string'&&name!=='')
{this.set(name,null,options);}}};constructor.prototype.test=function()
{var returnValue=false,testName='cT',testValue='data';this.set(testName,testValue);if(this.get(testName)===testValue)
{this.del(testName);returnValue=true;}
return returnValue;};constructor.prototype.setOptions=function(options)
{if(typeof options!=='object')
{options=null;}
defaultOptions=resolveOptions(options);};return new constructor();})();(function()
{if(window.jQuery)
{(function($)
{$.cookies=jaaulde.utils.cookies;var extensions={cookify:function(options)
{return this.each(function()
{var i,nameAttrs=['name','id'],name,$this=$(this),value;for(i in nameAttrs)
{if(!isNaN(i))
{name=$this.attr(nameAttrs[i]);if(typeof name==='string'&&name!=='')
{if($this.is(':checkbox, :radio'))
{if($this.attr('checked'))
{value=$this.val();}}
else if($this.is(':input'))
{value=$this.val();}
else
{value=$this.html();}
if(typeof value!=='string'||value==='')
{value=null;}
$.cookies.set(name,value,options);break;}}}});},cookieFill:function()
{return this.each(function()
{var n,getN,nameAttrs=['name','id'],name,$this=$(this),value;getN=function()
{n=nameAttrs.pop();return!!n;};while(getN())
{name=$this.attr(n);if(typeof name==='string'&&name!=='')
{value=$.cookies.get(name);if(value!==null)
{if($this.is(':checkbox, :radio'))
{if($this.val()===value)
{$this.attr('checked','checked');}
else
{$this.removeAttr('checked');}}
else if($this.is(':input'))
{$this.val(value);}
else
{$this.html(value);}}
break;}}});},cookieBind:function(options)
{return this.each(function()
{var $this=$(this);$this.cookieFill().change(function()
{$this.cookify(options);});});}};$.each(extensions,function(i)
{$.fn[i]=this;});})(window.jQuery);}})();;var JSON;if(!JSON){JSON={};}
(function(){"use strict";function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+
f(this.getUTCDate())+'T'+
f(this.getUTCHours())+':'+
f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+
('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}}());;(function($,window,undefined){$.fn.simplyScroll=function(options){return this.each(function(){new $.simplyScroll(this,options);});};var defaults={customClass:'simply-scroll',frameRate:24,speed:1,orientation:'horizontal',auto:true,autoMode:'loop',manualMode:'end',direction:'forwards',pauseOnHover:true,pauseOnTouch:true,pauseButton:false,startOnLoad:false};$.simplyScroll=function(el,options){var self=this;this.o=$.extend({},defaults,options||{});this.isAuto=this.o.auto!==false&&this.o.autoMode.match(/^loop|bounce$/)!==null;this.isHorizontal=this.o.orientation.match(/^horizontal|vertical$/)!==null&&this.o.orientation==defaults.orientation;this.isRTL=this.isHorizontal&&$("html").attr('dir')=='rtl';this.isForwards=!this.isAuto||(this.isAuto&&this.o.direction.match(/^forwards|backwards$/)!==null&&this.o.direction==defaults.direction)&&!this.isRTL;this.isLoop=this.isAuto&&this.o.autoMode=='loop'||!this.isAuto&&this.o.manualMode=='loop';this.supportsTouch=('createTouch'in document);this.events=this.supportsTouch?{start:'touchstart MozTouchDown',move:'touchmove MozTouchMove',end:'touchend touchcancel MozTouchRelease'}:{start:'mouseenter',end:'mouseleave'};this.$list=$(el);var $items=this.$list.children();this.$list.addClass('simply-scroll-list').wrap('<div class="simply-scroll-clip"></div>').parent().wrap('<div class="'+this.o.customClass+' simply-scroll-container"></div>');if(!this.isAuto){this.$list.parent().parent().prepend('<div class="simply-scroll-forward"></div>').prepend('<div class="simply-scroll-back"></div>');}else{if(this.o.pauseButton){this.$list.parent().parent().prepend('<div class="simply-scroll-btn simply-scroll-btn-pause"></div>');this.o.pauseOnHover=false;}}
if($items.length>1){var extra_wrap=false,total=0;if(this.isHorizontal){$items.each(function(){total+=$(this).outerWidth(true);});extra_wrap=$items.eq(0).outerWidth(true)*$items.length!==total;}else{$items.each(function(){total+=$(this).outerHeight(true);});extra_wrap=$items.eq(0).outerHeight(true)*$items.length!==total;}
if(extra_wrap){this.$list=this.$list.wrap('<div></div>').parent().addClass('simply-scroll-list');if(this.isHorizontal){this.$list.children().css({"float":'left',width:total+'px'});}else{this.$list.children().css({height:total+'px'});}}}
if(!this.o.startOnLoad){this.init();}else{$(window).load(function(){self.init();});}};$.simplyScroll.fn=$.simplyScroll.prototype={};$.simplyScroll.fn.extend=$.simplyScroll.extend=$.extend;$.simplyScroll.fn.extend({init:function(){this.$items=this.$list.children();this.$clip=this.$list.parent();this.$container=this.$clip.parent();this.$btnBack=$('.simply-scroll-back',this.$container);this.$btnForward=$('.simply-scroll-forward',this.$container);if(!this.isHorizontal){this.itemMax=this.$items.eq(0).outerHeight(true);this.clipMax=this.$clip.height();this.dimension='height';this.moveBackClass='simply-scroll-btn-up';this.moveForwardClass='simply-scroll-btn-down';this.scrollPos='Top';}else{this.itemMax=this.$items.eq(0).outerWidth(true);this.clipMax=this.$clip.width();this.dimension='width';this.moveBackClass='simply-scroll-btn-left';this.moveForwardClass='simply-scroll-btn-right';this.scrollPos='Left';}
this.posMin=0;this.posMax=this.$items.length*this.itemMax;var addItems=Math.ceil(this.clipMax/this.itemMax);if(this.isAuto&&this.o.autoMode=='loop'){this.$list.css(this.dimension,this.posMax+(this.itemMax*addItems)+'px');this.posMax+=(this.clipMax-this.o.speed);if(this.isForwards){this.$items.slice(0,addItems).clone(true).appendTo(this.$list);this.resetPosition=0;}else{this.$items.slice(-addItems).clone(true).prependTo(this.$list);this.resetPosition=this.$items.length*this.itemMax;if(this.isRTL){this.$clip[0].dir='ltr';this.$items.css('float','right');}}}else if(!this.isAuto&&this.o.manualMode=='loop'){this.posMax+=this.itemMax*addItems;this.$list.css(this.dimension,this.posMax+(this.itemMax*addItems)+'px');this.posMax+=(this.clipMax-this.o.speed);var items_append=this.$items.slice(0,addItems).clone(true).appendTo(this.$list);var items_prepend=this.$items.slice(-addItems).clone(true).prependTo(this.$list);this.resetPositionForwards=this.resetPosition=addItems*this.itemMax;this.resetPositionBackwards=this.$items.length*this.itemMax;var self=this;this.$btnBack.bind(this.events.start,function(){self.isForwards=false;self.resetPosition=self.resetPositionBackwards;});this.$btnForward.bind(this.events.start,function(){self.isForwards=true;self.resetPosition=self.resetPositionForwards;});}else{this.$list.css(this.dimension,this.posMax+'px');if(this.isForwards){this.resetPosition=0;}else{this.resetPosition=this.$items.length*this.itemMax;if(this.isRTL){this.$clip[0].dir='ltr';this.$items.css('float','right');}}}
this.resetPos()
this.interval=null;this.intervalDelay=Math.floor(1000/this.o.frameRate);if(!(!this.isAuto&&this.o.manualMode=='end')){while(this.itemMax%this.o.speed!==0){this.o.speed--;if(this.o.speed===0){this.o.speed=1;break;}}}
var self=this;this.trigger=null;this.funcMoveBack=function(e){if(e!==undefined){e.preventDefault();}
self.trigger=!self.isAuto&&self.o.manualMode=='end'?this:null;if(self.isAuto){self.isForwards?self.moveBack():self.moveForward();}else{self.moveBack();}};this.funcMoveForward=function(e){if(e!==undefined){e.preventDefault();}
self.trigger=!self.isAuto&&self.o.manualMode=='end'?this:null;if(self.isAuto){self.isForwards?self.moveForward():self.moveBack();}else{self.moveForward();}};this.funcMovePause=function(){self.movePause();};this.funcMoveStop=function(){self.moveStop();};this.funcMoveResume=function(){self.moveResume();};if(this.isAuto){this.paused=false;function togglePause(){if(self.paused===false){self.paused=true;self.funcMovePause();}else{self.paused=false;self.funcMoveResume();}
return self.paused;};if(this.supportsTouch&&this.$items.find('a').length){this.supportsTouch=false;}
if(this.isAuto&&this.o.pauseOnHover&&!this.supportsTouch){this.$clip.bind(this.events.start,this.funcMovePause).bind(this.events.end,this.funcMoveResume);}else if(this.isAuto&&this.o.pauseOnTouch&&!this.o.pauseButton&&this.supportsTouch){var touchStartPos,scrollStartPos;this.$clip.bind(this.events.start,function(e){togglePause();var touch=e.originalEvent.touches[0];touchStartPos=self.isHorizontal?touch.pageX:touch.pageY;scrollStartPos=self.$clip[0]['scroll'+self.scrollPos];e.stopPropagation();e.preventDefault();}).bind(this.events.move,function(e){e.stopPropagation();e.preventDefault();var touch=e.originalEvent.touches[0],endTouchPos=self.isHorizontal?touch.pageX:touch.pageY,pos=(touchStartPos-endTouchPos)+scrollStartPos;if(pos<0)pos=0;else if(pos>self.posMax)pos=self.posMax;self.$clip[0]['scroll'+self.scrollPos]=pos;self.funcMovePause();self.paused=true;});}else{if(this.o.pauseButton){this.$btnPause=$(".simply-scroll-btn-pause",this.$container).bind('click',function(e){e.preventDefault();togglePause()?$(this).addClass('active'):$(this).removeClass('active');});}}
this.funcMoveForward();}else{this.$btnBack.addClass('simply-scroll-btn'+' '+this.moveBackClass).bind(this.events.start,this.funcMoveBack).bind(this.events.end,this.funcMoveStop);this.$btnForward.addClass('simply-scroll-btn'+' '+this.moveForwardClass).bind(this.events.start,this.funcMoveForward).bind(this.events.end,this.funcMoveStop);if(this.o.manualMode=='end'){!this.isRTL?this.$btnBack.addClass('disabled'):this.$btnForward.addClass('disabled');}}},moveForward:function(){var self=this;this.movement='forward';if(this.trigger!==null){this.$btnBack.removeClass('disabled');}
self.interval=setInterval(function(){if(self.$clip[0]['scroll'+self.scrollPos]<(self.posMax-self.clipMax)){self.$clip[0]['scroll'+self.scrollPos]+=self.o.speed;}else if(self.isLoop){self.resetPos();}else{self.moveStop(self.movement);}},self.intervalDelay);},moveBack:function(){var self=this;this.movement='back';if(this.trigger!==null){this.$btnForward.removeClass('disabled');}
self.interval=setInterval(function(){if(self.$clip[0]['scroll'+self.scrollPos]>self.posMin){self.$clip[0]['scroll'+self.scrollPos]-=self.o.speed;}else if(self.isLoop){self.resetPos();}else{self.moveStop(self.movement);}},self.intervalDelay);},movePause:function(){clearInterval(this.interval);},moveStop:function(moveDir){this.movePause();if(this.trigger!==null){if(typeof moveDir!=='undefined'){$(this.trigger).addClass('disabled');}
this.trigger=null;}
if(this.isAuto){if(this.o.autoMode=='bounce'){moveDir=='forward'?this.moveBack():this.moveForward();}}},moveResume:function(){this.movement=='forward'?this.moveForward():this.moveBack();},resetPos:function(){this.$clip[0]['scroll'+this.scrollPos]=this.resetPosition;}});})(jQuery,window);;;(function($){var scrollbarWidth=0;function getScrollbarWidth()
{if(scrollbarWidth)return scrollbarWidth;var div=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');$('body').append(div);var w1=$('div',div).innerWidth();div.css('overflow-y','auto');var w2=$('div',div).innerWidth();$(div).remove();scrollbarWidth=(w1-w2);return scrollbarWidth;}
$.fn.tableScroll=function(options)
{if(options=='undo')
{var container=$(this).parent().parent();if(container.hasClass('tablescroll_wrapper'))
{container.find('.tablescroll_head thead').prependTo(this);container.find('.tablescroll_foot tfoot').appendTo(this);container.before(this);container.empty();}
return;}
var settings=$.extend({},$.fn.tableScroll.defaults,options);settings.scrollbarWidth=getScrollbarWidth();this.each(function()
{var flush=settings.flush;var tb=$(this).addClass('tablescroll_body');var wrapper;if(tb.parent().hasClass('tablescroll_wrapper')){wrapper=tb.parent();}
else{wrapper=$('<div class="tablescroll_wrapper"></div>').insertBefore(tb).append(tb);}
if(!wrapper.parent('div').hasClass(settings.containerClass))
{$('<div></div>').addClass(settings.containerClass).insertBefore(wrapper).append(wrapper);}
var width=settings.width?settings.width:tb.outerWidth();wrapper.css
({'width':width+'px','height':settings.height+'px','overflow':'auto'});tb.css('width',width+'px');var wrapper_width=wrapper.outerWidth();var diff=wrapper_width-width;wrapper.css({width:((width-diff)+settings.scrollbarWidth)+'px'});tb.css('width',(width-diff)+'px');if(tb.outerHeight()<=settings.height)
{wrapper.css({height:'auto',width:(width-diff)+'px'});flush=false;}
var has_thead=$('thead',tb).length?true:false;var has_tfoot=$('tfoot',tb).length?true:false;var thead_tr_first=$('thead tr:first',tb);var tbody_tr_first=$('tbody tr:first',tb);var tfoot_tr_first=$('tfoot tr:first',tb);var w=0;$('th, td',thead_tr_first).each(function(i)
{w=$(this).width();$('th:eq('+i+'), td:eq('+i+')',thead_tr_first).css('width',w+'px');$('th:eq('+i+'), td:eq('+i+')',tbody_tr_first).css('width',w+'px');if(has_tfoot)$('th:eq('+i+'), td:eq('+i+')',tfoot_tr_first).css('width',w+'px');});if(has_thead)
{var tbh=$('<table class="tablescroll_head" cellspacing="0"></table>').insertBefore(wrapper).prepend($('thead',tb));}
if(has_tfoot)
{var tbf=$('<table class="tablescroll_foot" cellspacing="0"></table>').insertAfter(wrapper).prepend($('tfoot',tb));}
if(tbh!=undefined)
{tbh.css('width',width+'px');if(flush)
{$('tr:first th:last, tr:first td:last',tbh).css('width',(w+settings.scrollbarWidth)+'px');tbh.css('width',wrapper.outerWidth()+'px');}}
if(tbf!=undefined)
{tbf.css('width',width+'px');if(flush)
{$('tr:first th:last, tr:first td:last',tbf).css('width',(w+settings.scrollbarWidth)+'px');tbf.css('width',wrapper.outerWidth()+'px');}}});return this;};$.fn.tableScroll.defaults={flush:true,width:null,height:100,containerClass:'tablescroll'};})(jQuery);;var ww=document.body.clientWidth;$(window).bind('resize orientationchange',function(){ww=document.body.clientWidth;adjustMenu();});$(document).ready(function(){$(".nav li a").each(function(){if($(this).next().length>0){$(this).addClass("parent");};});$(".toggleMenu").click(function(e){e.preventDefault();$(this).toggleClass("active");$("ul.nav").toggle();});adjustMenu();});var adjustMenu=function(){if(ww<980){if(!$(".more")[0]){$('<div class="more">&nbsp;</div>').insertBefore($('.parent'));}
$(".toggleMenu").css("display","inline-block");if(!$(".toggleMenu").hasClass("active")){$(".nav").hide();}else{$(".nav").show();}
$(".nav li").unbind('mouseenter mouseleave');$(".nav li a.parent").unbind('click');$(".nav li .more").unbind('click').bind('click',function(){$(this).parent("li").toggleClass("hover");});}
else if(ww>=980){$('.more').remove();$(".toggleMenu").css("display","none");$(".nav").show();$(".nav li").removeClass("hover");$(".nav li a").unbind('click');$(".nav>li").unbind('mouseenter mouseleave').bind('mouseenter mouseleave',function(){$(".nav>li").removeClass("hover");$(this).toggleClass('hover');});}};
;/*
 * jQuery validation plug-in 1.7
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright (c) 2006 - 2008 Jrn Zaefferer
 *
 * $Id: jquery.validate.js 6403 2009-06-17 14:27:16Z joern.zaefferer $
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function($){$.extend($.fn,{validate:function(options){if(!this.length){options&&options.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return;}var validator=$.data(this[0],'validator');if(validator){return validator;}validator=new $.validator(options,this[0]);$.data(this[0],'validator',validator);if(validator.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){validator.cancelSubmit=true;});if(validator.settings.submitHandler){this.find("input, button").filter(":submit").click(function(){validator.submitButton=this;});}this.submit(function(event){if(validator.settings.debug)event.preventDefault();function handle(){if(validator.settings.submitHandler){if(validator.submitButton){var hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm);}validator.settings.submitHandler.call(validator,validator.currentForm);if(validator.submitButton){hidden.remove();}return false;}return true;}if(validator.cancelSubmit){validator.cancelSubmit=false;return handle();}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false;}return handle();}else{validator.focusInvalid();return false;}});}return validator;},valid:function(){if($(this[0]).is('form')){return this.validate().form();}else{var valid=true;var validator=$(this[0].form).validate();this.each(function(){valid&=validator.element(this);});return valid;}},removeAttrs:function(attributes){var result={},$element=this;$.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);$element.removeAttr(value);});return result;},rules:function(command,argument){var element=this[0];if(command){var settings=$.data(element.form,'validator').settings;var staticRules=settings.rules;var existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));staticRules[element.name]=existingRules;if(argument.messages)settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages);break;case"remove":if(!argument){delete staticRules[element.name];return existingRules;}var filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];});return filtered;}}var data=$.validator.normalizeRules($.extend({},$.validator.metadataRules(element),$.validator.classRules(element),$.validator.attributeRules(element),$.validator.staticRules(element)),element);if(data.required){var param=data.required;delete data.required;data=$.extend({required:param},data);}return data;}});$.extend($.expr[":"],{blank:function(a){return!$.trim(""+a.value);},filled:function(a){return!!$.trim(""+a.value);},unchecked:function(a){return!a.checked;}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init();};$.validator.format=function(source,params){if(arguments.length==1)return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args);};if(arguments.length>2&&params.constructor!=Array){params=$.makeArray(arguments).slice(1);}if(params.constructor!=Array){params=[params];}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),n);});return source;};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(element){this.lastActive=element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);this.errorsFor(element).hide();}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element);}},onkeyup:function(element){if(element.name in this.submitted||element==this.lastElement){this.element(element);}},onclick:function(element){if(element.name in this.submitted)this.element(element);else if(element.parentNode.name in this.submitted)this.element(element.parentNode);},highlight:function(element,errorClass,validClass){$(element).addClass(errorClass).removeClass(validClass);},unhighlight:function(element,errorClass,validClass){$(element).removeClass(errorClass).addClass(validClass);}},setDefaults:function(settings){$.extend($.validator.defaults,settings);},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=(this.groups={});$.each(this.settings.groups,function(key,value){$.each(value.split(/\s/),function(index,name){groups[name]=key;});});var rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value);});function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");validator.settings[eventType]&&validator.settings[eventType].call(validator,this[0]);}$(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",delegate).validateDelegate(":radio, :checkbox, select, option","click",delegate);if(this.settings.invalidHandler)$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid())$(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid();},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i]);}return this.valid();},element:function(element){element=this.clean(element);this.lastElement=element;this.prepareElement(element);this.currentElements=$(element);var result=this.check(element);if(result){delete this.invalid[element.name];}else{this.invalid[element.name]=true;}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers);}this.showErrors();return result;},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors){this.errorList.push({message:errors[name],element:this.findByName(name)[0]});}this.successList=$.grep(this.successList,function(element){return!(element.name in errors);});}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors();},resetForm:function(){if($.fn.resetForm)$(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass);},numberOfInvalids:function(){return this.objectLength(this.invalid);},objectLength:function(obj){var count=0;for(var i in obj)count++;return count;},hideErrors:function(){this.addWrapper(this.toHide).hide();},valid:function(){return this.size()==0;},size:function(){return this.errorList.length;},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin");}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name==lastActive.name;}).length==1&&lastActive;},elements:function(){var validator=this,rulesCache={};return $([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&validator.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in rulesCache||!validator.objectLength($(this).rules()))return false;rulesCache[this.name]=true;return true;});},clean:function(selector){return $(selector)[0];},errors:function(){return $(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext);},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([]);},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers);},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element);},check:function(element){element=this.clean(element);if(this.checkable(element)){element=this.findByName(element.name)[0];}var rules=$(element).rules();var dependencyMismatch=false;for(method in rules){var rule={method:method,parameters:rules[method]};try{var result=$.validator.methods[method].call(this,element.value.replace(/\r/g,""),element,rule.parameters);if(result=="dependency-mismatch"){dependencyMismatch=true;continue;}dependencyMismatch=false;if(result=="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return;}if(!result){this.formatAndAdd(element,rule);return false;}}catch(e){this.settings.debug&&window.console&&console.log("exception occured when checking element "+element.id
+", check the '"+rule.method+"' method",e);throw e;}}if(dependencyMismatch)return;if(this.objectLength(rules))this.successList.push(element);return true;},customMetaMessage:function(element,method){if(!$.metadata)return;var meta=this.settings.meta?$(element).metadata()[this.settings.meta]:$(element).metadata();return meta&&meta.messages&&meta.messages[method];},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor==String?m:m[method]);},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined)return arguments[i];}return undefined;},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customMetaMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>");},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;if(typeof message=="function"){message=message.call(this,rule.parameters,element);}else if(theregex.test(message)){message=jQuery.format(message.replace(theregex,'{$1}'),rule.parameters);}this.errorList.push({message:message,element:element});this.errorMap[element.name]=message;this.submitted[element.name]=message;},addWrapper:function(toToggle){if(this.settings.wrapper)toToggle=toToggle.add(toToggle.parent(this.settings.wrapper));return toToggle;},defaultShowErrors:function(){for(var i=0;this.errorList[i];i++){var error=this.errorList[i];this.settings.highlight&&this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);this.showLabel(error.element,error.message);}if(this.errorList.length){this.toShow=this.toShow.add(this.containers);}if(this.settings.success){for(var i=0;this.successList[i];i++){this.showLabel(this.successList[i]);}}if(this.settings.unhighlight){for(var i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show();},validElements:function(){return this.currentElements.not(this.invalidElements());},invalidElements:function(){return $(this.errorList).map(function(){return this.element;});},showLabel:function(element,message){var label=this.errorsFor(element);if(label.length){label.removeClass().addClass(this.settings.errorClass);label.attr("generated")&&label.html(message);}else{label=$("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(element),generated:true}).addClass(this.settings.errorClass).html(message||"");if(this.settings.wrapper){label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();}if(!this.labelContainer.append(label).length)this.settings.errorPlacement?this.settings.errorPlacement(label,$(element)):label.insertAfter(element);}if(!message&&this.settings.success){label.text("");typeof this.settings.success=="string"?label.addClass(this.settings.success):this.settings.success(label);}this.toShow=this.toShow.add(label);},errorsFor:function(element){var name=this.idOrName(element);return this.errors().filter(function(){return $(this).attr('for')==name;});},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name);},checkable:function(element){return/radio|checkbox/i.test(element.type);},findByName:function(name){var form=this.currentForm;return $(document.getElementsByName(name)).map(function(index,element){return element.form==form&&element.name==name&&element||null;});},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case'select':return $("option:selected",element).length;case'input':if(this.checkable(element))return this.findByName(element.name).filter(':checked').length;}return value.length;},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true;},dependTypes:{"boolean":function(param,element){return param;},"string":function(param,element){return!!$(param,element.form).length;},"function":function(param,element){return param(element);}},optional:function(element){return!$.validator.methods.required.call(this,$.trim(element.value),element)&&"dependency-mismatch";},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;this.pending[element.name]=true;}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[element.name];if(valid&&this.pendingRequest==0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false;}else if(!valid&&this.pendingRequest==0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false;}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,"remote")});}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){className.constructor==String?this.classRuleSettings[className]=rules:$.extend(this.classRuleSettings,className);},classRules:function(element){var rules={};var classes=$(element).attr('class');classes&&$.each(classes.split(' '),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this]);}});return rules;},attributeRules:function(element){var rules={};var $element=$(element);for(method in $.validator.methods){var value=$element.attr(method);if(value){rules[method]=value;}}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength;}return rules;},metadataRules:function(element){if(!$.metadata)return{};var meta=$.data(element.form,'validator').settings.meta;return meta?$(element).metadata()[meta]:$(element).metadata();},staticRules:function(element){var rules={};var validator=$.data(element.form,'validator');if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{};}return rules;},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return;}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break;}if(keepRule){rules[prop]=val.param!==undefined?val.param:true;}else{delete rules[prop];}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter;});$.each(['minlength','maxlength','min','max'],function(){if(rules[this]){rules[this]=Number(rules[this]);}});$.each(['rangelength','range'],function(){if(rules[this]){rules[this]=[Number(rules[this][0]),Number(rules[this][1])];}});if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max;}if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength;}}if(rules.messages){delete rules.messages;}return rules;},normalizeRule:function(data){if(typeof data=="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true;});data=transformed;}return data;},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!=undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name));}},methods:{required:function(value,element,param){if(!this.depend(param,element))return"dependency-mismatch";switch(element.nodeName.toLowerCase()){case'select':var val=$(element).val();return val&&val.length>0;case'input':if(this.checkable(element))return this.getLength(value,element)>0;default:return $.trim(value).length>0;}},remote:function(value,element,param){if(this.optional(element))return"dependency-mismatch";var previous=this.previousValue(element);if(!this.settings.messages[element.name])this.settings.messages[element.name]={};previous.originalMessage=this.settings.messages[element.name].remote;this.settings.messages[element.name].remote=previous.message;param=typeof param=="string"&&{url:param}||param;if(previous.old!==value){previous.old=value;var validator=this;this.startRequest(element);var data={};data[element.name]=value;$.ajax($.extend(true,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;var valid=response===true;if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.showErrors();}else{var errors={};var message=(previous.message=response||validator.defaultMessage(element,"remote"));errors[element.name]=$.isFunction(message)?message(value):message;validator.showErrors(errors);}previous.valid=valid;validator.stopRequest(element,valid);}},param));return"pending";}else if(this.pending[element.name]){return"pending";}return previous.valid;},minlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)>=param;},maxlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)<=param;},rangelength:function(value,element,param){var length=this.getLength($.trim(value),element);return this.optional(element)||(length>=param[0]&&length<=param[1]);},min:function(value,element,param){return this.optional(element)||value>=param;},max:function(value,element,param){return this.optional(element)||value<=param;},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1]);},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value);},url:function(value,element){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value);},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value));},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(value);},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(value);},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value);},creditcard:function(value,element){if(this.optional(element))return"dependency-mismatch";if(/[^0-9-]+/.test(value))return false;var nCheck=0,nDigit=0,bEven=false;value=value.replace(/\D/g,"");for(var n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);var nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9)nDigit-=9;}nCheck+=nDigit;bEven=!bEven;}return(nCheck%10)==0;},accept:function(value,element,param){param=typeof param=="string"?param.replace(/,/g,'|'):"png|jpe?g|gif";return this.optional(element)||value.match(new RegExp(".("+param+")$","i"));},equalTo:function(value,element,param){var target=$(param).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid();});return value==target.val();}}});$.format=$.validator.format;})(jQuery);;(function($){var ajax=$.ajax;var pendingRequests={};$.ajax=function(settings){settings=$.extend(settings,$.extend({},$.ajaxSettings,settings));var port=settings.port;if(settings.mode=="abort"){if(pendingRequests[port]){pendingRequests[port].abort();}return(pendingRequests[port]=ajax.apply(this,arguments));}return ajax.apply(this,arguments);};})(jQuery);;(function($){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){$.each({focus:'focusin',blur:'focusout'},function(original,fix){$.event.special[fix]={setup:function(){this.addEventListener(original,handler,true);},teardown:function(){this.removeEventListener(original,handler,true);},handler:function(e){arguments[0]=$.event.fix(e);arguments[0].type=fix;return $.event.handle.apply(this,arguments);}};function handler(e){e=$.event.fix(e);e.type=fix;return $.event.handle.call(this,e);}});};$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate)){return handler.apply(target,arguments);}});}});})(jQuery);
;/*!
 * Feature Carousel, Version 1.3
 * http://www.bkosolutions.com
 *
 * Copyright 2011 Brian Osborne
 * Licensed under GPL version 3
 * brian@bkosborne.com
 *
 * http://www.gnu.org/licenses/gpl.txt
 */
(function(a){a.fn.featureCarousel=function(f){if(this.length>1){this.each(function(){a(this).featureCarousel(f)});return this}f=a.extend({},a.fn.featureCarousel.defaults,f||{});var q={currentCenterNum:f.startingFeature,containerWidth:0,containerHeight:0,largeFeatureWidth:0,largeFeatureHeight:0,smallFeatureWidth:0,smallFeatureHeight:0,totalFeatureCount:a(this).children("div").length,currentlyMoving:false,featuresContainer:a(this),featuresArray:[],containerIDTag:"#"+a(this).attr("id"),timeoutVar:null,rotationsRemaining:0,itemsToAnimate:0,borderWidth:0};var j=function(w){if(f.preload==true){var u=q.featuresContainer.find("img");var t=0;var v=u.length;u.each(function(y,z){var x=new Image();a(x).bind("load error",function(){t++;if(t==v){w()}});x.src=z.src})}else{w()}};var m=function(t){return q.featuresArray[t-1]};var n=function(t){a.each(q.featuresArray,function(){if(a(this).data().setPosition==t){return a(this)}})};var c=function(t){if((t-1)==0){return q.totalFeatureCount}else{return t-1}};var i=function(t){if((t+1)>q.totalFeatureCount){return 1}else{return t+1}};var e=function(){q.containerWidth=q.featuresContainer.width();q.containerHeight=q.featuresContainer.height();var t=a(q.containerIDTag).find(".carousel-image:first");if(f.largeFeatureWidth>1){q.largeFeatureWidth=f.largeFeatureWidth}else{if(f.largeFeatureWidth>0&&f.largeFeatureWidth<1){q.largeFeatureWidth=t.width()*f.largeFeatureWidth}else{q.largeFeatureWidth=t.outerWidth()}}if(f.largeFeatureHeight>1){q.largeFeatureHeight=f.largeFeatureHeight}else{if(f.largeFeatureHeight>0&&f.largeFeatureHeight<1){q.largeFeatureHeight=t.height()*f.largeFeatureHeight}else{q.largeFeatureHeight=t.outerHeight()}}if(f.smallFeatureWidth>1){q.smallFeatureWidth=f.smallFeatureWidth}else{if(f.smallFeatureWidth>0&&f.smallFeatureWidth<1){q.smallFeatureWidth=t.width()*f.smallFeatureWidth}else{q.smallFeatureWidth=t.outerWidth()/2}}if(f.smallFeatureHeight>1){q.smallFeatureHeight=f.smallFeatureHeight}else{if(f.smallFeatureHeight>0&&f.smallFeatureHeight<1){q.smallFeatureHeight=t.height()*f.smallFeatureHeight}else{q.smallFeatureHeight=t.outerHeight()/2}}};var b=function(){if(f.displayCutoff>0&&f.displayCutoff<q.totalFeatureCount){q.totalFeatureCount=f.displayCutoff}q.featuresContainer.find(".carousel-feature").each(function(t){if(t<q.totalFeatureCount){q.featuresArray[t]=a(this)}});if(q.featuresContainer.find(".carousel-feature").first().css("borderLeftWidth")!="medium"){q.borderWidth=parseInt(q.featuresContainer.find(".carousel-feature").first().css("borderLeftWidth"))*2}q.featuresContainer.find(".carousel-feature").each(function(){a(this).css({left:(q.containerWidth/2)-(q.smallFeatureWidth/2)-(q.borderWidth/2),width:q.smallFeatureWidth,height:q.smallFeatureHeight,top:f.smallFeatureOffset+f.topPadding,opacity:0})}).find(".carousel-image").css({width:q.smallFeatureWidth});if(f.captionBelow){q.featuresContainer.find(".carousel-caption").css("position","relative")}if(q.totalFeatureCount<4){q.itemsToAnimate=q.totalFeatureCount}else{q.itemsToAnimate=4}q.featuresContainer.find(".carousel-caption").hide()};var r=function(){a.each(q.featuresArray,function(x){a(this).data("setPosition",x+1)});var w=c(f.startingFeature);q.currentCenterNum=w;var v=m(w);v.data("position",1);var u=v.prevAll();u.each(function(x){a(this).data("position",(q.totalFeatureCount-x))});var t=v.nextAll();t.each(function(x){if(a(this).data("setPosition")!=undefined){a(this).data("position",(x+2))}});if(f.counterStyle=="caption"){a.each(q.featuresArray,function(){var y=c(a(this).data("position"));var x=a("<span></span>");x.addClass("numberTag");x.html("("+y+" of "+q.totalFeatureCount+") ");a(this).find(".carousel-caption p").prepend(x)})}};var h=function(){if(f.trackerIndividual){var z=a("<ul></ul>");z.addClass("tracker-individual-container");for(var y=0;y<q.totalFeatureCount;y++){var t=y+1;var x=a("<div>"+t+"</div>");x.addClass("tracker-individual-blip");x.css("cursor","pointer");x.attr("id","tracker-"+(y+1));var w=a("<li></li>");w.append(x);w.css("float","left");w.css("list-style-type","none");z.append(w)}a(q.containerIDTag).append(z);z.hide().show()}if(f.trackerSummation){var v=a("<div></div>");v.addClass("tracker-summation-container");var u=a("<span></span>").addClass("tracker-summation-current").text(f.startingFeature);var B=a("<span></span>").addClass("tracker-summation-total").text(q.totalFeatureCount);var A=a("<span></span>").addClass("tracker-summation-middle").text(" of ");v.append(u).append(A).append(B);a(q.containerIDTag).append(v)}};var s=function(x,t){if(f.trackerIndividual){var u=q.featuresContainer.find(".tracker-individual-container");var v=u.find("#tracker-"+x);var w=u.find("#tracker-"+t);v.removeClass("tracker-individual-blip-selected");w.addClass("tracker-individual-blip-selected")}if(f.trackerSummation){var u=q.featuresContainer.find(".tracker-summation-container");u.find(".tracker-summation-current").text(t)}};var p=function(u){clearTimeout(q.timeoutVar);if(!u&&f.autoPlay!=0){var t=(Math.abs(f.autoPlay)<f.carouselSpeed)?f.carouselSpeed:Math.abs(f.autoPlay);q.timeoutVar=setTimeout(function(){(f.autoPlay>0)?k(true,1):k(false,1)},t)}};var d=function(t){a.each(q.featuresArray,function(){var u;if(t==false){u=i(a(this).data().position)}else{u=c(a(this).data().position)}a(this).data("position",u)})};var o=function(y,C){var w,t,v,z,u,D,A;var B=y.data("position");var x;if(C==true){x=c(B)}else{x=i(B)}if(B==1){f.leavingCenter(y)}if(x==1){w=q.largeFeatureWidth;t=q.largeFeatureHeight;v=f.topPadding;u=y.css("z-index");z=(q.containerWidth/2)-(q.largeFeatureWidth/2)-(q.borderWidth/2);A=1}else{w=q.smallFeatureWidth;t=q.smallFeatureHeight;v=f.smallFeatureOffset+f.topPadding;u=1;A=0.4;if(x==q.totalFeatureCount){z=f.sidePadding}else{if(x==2){z=q.containerWidth-q.smallFeatureWidth-f.sidePadding-q.borderWidth}else{z=(q.containerWidth/2)-(q.smallFeatureWidth/2)-(q.borderWidth/2);A=0}}}if(B==1){y.find(".carousel-caption").hide()}y.animate({width:w,height:t,top:v,left:z,opacity:A},f.carouselSpeed,f.animationEasing,function(){if(x==1){if(f.captionBelow){y.css("height","auto")}y.find(".carousel-caption").fadeTo("fast",0.85);f.movedToCenter(y)}q.rotationsRemaining=q.rotationsRemaining-1;y.css("z-index",u);if(f.trackerIndividual||f.trackerSummation){if(x==1){var E=q.featuresContainer.find(".carousel-feature").index(y)+1;var F;if(C==false){F=i(E)}else{F=c(E)}s(F,E)}}var G=q.rotationsRemaining/q.itemsToAnimate;if(G%1==0){q.currentlyMoving=false;d(C);if(q.rotationsRemaining>0){l(C)}}p(false)}).find(".carousel-image").animate({width:w,height:t},f.carouselSpeed,f.animationEasing).end()};var l=function(w){q.currentlyMoving=true;var x,v,t,u;if(w==true){x=m(i(q.currentCenterNum));v=m(q.currentCenterNum);t=m(i(i(q.currentCenterNum)));u=m(c(q.currentCenterNum));q.currentCenterNum=i(q.currentCenterNum)}else{x=m(c(q.currentCenterNum));v=m(c(c(q.currentCenterNum)));t=m(q.currentCenterNum);u=m(i(q.currentCenterNum));q.currentCenterNum=c(q.currentCenterNum)}if(w){v.css("z-index",3)}else{t.css("z-index",3)}x.css("z-index",4);o(v,w);o(x,w);o(t,w);if(q.totalFeatureCount>3){o(u,w)}};var k=function(v,u){if(q.currentlyMoving==false){var t=u*q.itemsToAnimate;q.rotationsRemaining=t;l(v)}};var g=function(x,w){var u=1,t=1,v;v=x;while((v=c(v))!=w){u++}v=x;while((v=i(v))!=w){t++}return(u<t)?u*-1:t};a(f.leftButtonTag).live("click",function(){k(false,1)});a(f.rightButtonTag).live("click",function(){k(true,1)});q.featuresContainer.find(".carousel-feature").click(function(){var t=a(this).data("position");if(t==2){k(true,1)}else{if(t==q.totalFeatureCount){k(false,1)}}}).mouseover(function(){if(q.currentlyMoving==false){var t=a(this).data("position");if(t==2||t==q.totalFeatureCount){a(this).css("opacity",0.8)}}if(f.pauseOnHover){p(true)}if(f.stopOnHover){f.autoPlay=0}}).mouseout(function(){if(q.currentlyMoving==false){var t=a(this).data("position");if(t==2||t==q.totalFeatureCount){a(this).css("opacity",0.4)}}if(f.pauseOnHover){p(false)}});a("a",q.containerIDTag).live("click",function(u){var t=a(this).parentsUntil(q.containerIDTag);t.each(function(){var v=a(this).data("position");if(v!=undefined){if(v!=1){if(v==q.totalFeatureCount){k(false,1)}else{if(v==2){k(true,1)}}u.preventDefault();return false}else{f.clickedCenter(a(this))}}})});a(".tracker-individual-blip",q.containerIDTag).live("click",function(){var t=a(this).attr("id").substring(8);var v=q.featuresContainer.find(".carousel-feature").eq(t-1).data("position");var u=q.currentCenterNum;if(t!=u){var w=g(1,v);if(w<0){k(false,(w*-1))}else{k(true,w)}}});this.initialize=function(){j(function(){e();b();r();h();k(true,1)});return this};this.next=function(){k(true,1)};this.prev=function(){k(false,1)};this.pause=function(){p(true)};this.start=function(){p(false)};return this.initialize()};a.fn.featureCarousel.defaults={largeFeatureWidth:0,largeFeatureHeight:0,smallFeatureWidth:0.5,smallFeatureHeight:0.5,topPadding:20,sidePadding:50,smallFeatureOffset:50,startingFeature:1,carouselSpeed:1000,autoPlay:4000,pauseOnHover:true,stopOnHover:false,trackerIndividual:true,trackerSummation:true,preload:true,displayCutoff:0,animationEasing:"swing",leftButtonTag:"#carousel-left",rightButtonTag:"#carousel-right",captionBelow:false,movedToCenter:a.noop,leavingCenter:a.noop,clickedCenter:a.noop}})(jQuery);
;(function(a){a.fn.slides=function(b){return b=a.extend({},a.fn.slides.option,b),this.each(function(){function w(g,h,i){if(!p&&o){p=!0,b.animationStart(n+1);switch(g){case"next":l=n,k=n+1,k=e===k?0:k,r=f*2,g=-f*2,n=k;break;case"prev":l=n,k=n-1,k=k===-1?e-1:k,r=0,g=0,n=k;break;case"pagination":k=parseInt(i,10),l=a("."+b.paginationClass+" li."+b.currentClass+" a",c).attr("href").match("[^#/]+$"),k>l?(r=f*2,g=-f*2):(r=0,g=0),n=k}h==="fade"?b.crossfade?d.children(":eq("+k+")",c).css({zIndex:10}).fadeIn(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?d.animate({height:d.children(":eq("+k+")",c).outerHeight()},b.autoHeightSpeed,function(){d.children(":eq("+l+")",c).css({display:"none",zIndex:0}),d.children(":eq("+k+")",c).css({zIndex:0}),b.animationComplete(k+1),p=!1}):(d.children(":eq("+l+")",c).css({display:"none",zIndex:0}),d.children(":eq("+k+")",c).css({zIndex:0}),b.animationComplete(k+1),p=!1)}):d.children(":eq("+l+")",c).fadeOut(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?d.animate({height:d.children(":eq("+k+")",c).outerHeight()},b.autoHeightSpeed,function(){d.children(":eq("+k+")",c).fadeIn(b.fadeSpeed,b.fadeEasing)}):d.children(":eq("+k+")",c).fadeIn(b.fadeSpeed,b.fadeEasing,function(){a.browser.msie&&a(this).get(0).style.removeAttribute("filter")}),b.animationComplete(k+1),p=!1}):(d.children(":eq("+k+")").css({left:r,display:"block"}),b.autoHeight?d.animate({left:g,height:d.children(":eq("+k+")").outerHeight()},b.slideSpeed,b.slideEasing,function(){d.css({left:-f}),d.children(":eq("+k+")").css({left:f,zIndex:5}),d.children(":eq("+l+")").css({left:f,display:"none",zIndex:0}),b.animationComplete(k+1),p=!1}):d.animate({left:g},b.slideSpeed,b.slideEasing,function(){d.css({left:-f}),d.children(":eq("+k+")").css({left:f,zIndex:5}),d.children(":eq("+l+")").css({left:f,display:"none",zIndex:0}),b.animationComplete(k+1),p=!1})),b.pagination&&(a("."+b.paginationClass+" li."+b.currentClass,c).removeClass(b.currentClass),a("."+b.paginationClass+" li:eq("+k+")",c).addClass(b.currentClass))}}function x(){clearInterval(c.data("interval"))}function y(){b.pause?(clearTimeout(c.data("pause")),clearInterval(c.data("interval")),u=setTimeout(function(){clearTimeout(c.data("pause")),v=setInterval(function(){w("next",i)},b.play),c.data("interval",v)},b.pause),c.data("pause",u)):x()}a("."+b.container,a(this)).children().wrapAll('<div class="slides_control"/>');var c=a(this),d=a(".slides_control",c),e=d.children().size(),f=d.children().outerWidth(),g=d.children().outerHeight(),h=b.start-1,i=b.effect.indexOf(",")<0?b.effect:b.effect.replace(" ","").split(",")[0],j=b.effect.indexOf(",")<0?i:b.effect.replace(" ","").split(",")[1],k=0,l=0,m=0,n=0,o,p,q,r,s,t,u,v;if(e<2)return a("."+b.container,a(this)).fadeIn(b.fadeSpeed,b.fadeEasing,function(){o=!0,b.slidesLoaded()}),a("."+b.next+", ."+b.prev).fadeOut(0),!1;if(e<2)return;h<0&&(h=0),h>e&&(h=e-1),b.start&&(n=h),b.randomize&&d.randomize(),a("."+b.container,c).css({overflow:"hidden",position:"relative"}),d.children().css({position:"absolute",top:0,left:d.children().outerWidth(),zIndex:0,display:"none"}),d.css({position:"relative",width:f*3,height:g,left:-f}),a("."+b.container,c).css({display:"block"}),b.autoHeight&&(d.children().css({height:"auto"}),d.animate({height:d.children(":eq("+h+")").outerHeight()},b.autoHeightSpeed));if(b.preload&&d.find("img:eq("+h+")").length){a("."+b.container,c).css({background:"url("+b.preloadImage+") no-repeat 50% 50%"});var z=d.find("img:eq("+h+")").attr("src")+"?"+(new Date).getTime();a("img",c).parent().attr("class")!="slides_control"?t=d.children(":eq(0)")[0].tagName.toLowerCase():t=d.find("img:eq("+h+")"),d.find("img:eq("+h+")").attr("src",z).load(function(){d.find(t+":eq("+h+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){a(this).css({zIndex:5}),a("."+b.container,c).css({background:""}),o=!0,b.slidesLoaded()})})}else d.children(":eq("+h+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){o=!0,b.slidesLoaded()});b.bigTarget&&(d.children().css({cursor:"pointer"}),d.children().click(function(){return w("next",i),!1})),b.hoverPause&&b.play&&(d.bind("mouseover",function(){x()}),d.bind("mouseleave",function(){y()})),b.generateNextPrev&&(a("."+b.container,c).after('<a href="#" class="'+b.prev+'">Prev</a>'),a("."+b.prev,c).after('<a href="#" class="'+b.next+'">Next</a>')),a("."+b.next,c).click(function(a){a.preventDefault(),b.play&&y(),w("next",i)}),a("."+b.prev,c).click(function(a){a.preventDefault(),b.play&&y(),w("prev",i)}),b.generatePagination?(b.prependPagination?c.prepend("<ul class="+b.paginationClass+"></ul>"):c.append("<ul class="+b.paginationClass+"></ul>"),d.children().each(function(){a("."+b.paginationClass,c).append('<li><a href="#'+m+'">'+(m+1)+"</a></li>"),m++})):a("."+b.paginationClass+" li a",c).each(function(){a(this).attr("href","#"+m),m++}),a("."+b.paginationClass+" li:eq("+h+")",c).addClass(b.currentClass),a("."+b.paginationClass+" li a",c).click(function(){return b.play&&y(),q=a(this).attr("href").match("[^#/]+$"),n!=q&&w("pagination",j,q),!1}),a("a.link",c).click(function(){return b.play&&y(),q=a(this).attr("href").match("[^#/]+$")-1,n!=q&&w("pagination",j,q),!1}),b.play&&(v=setInterval(function(){w("next",i)},b.play),c.data("interval",v))})},a.fn.slides.option={preload:!1,preloadImage:"/img/loading.gif",container:"slides_container",generateNextPrev:!1,next:"next",prev:"prev",pagination:!0,generatePagination:!0,prependPagination:!1,paginationClass:"pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:!1,randomize:!1,play:0,pause:0,hoverPause:!1,autoHeight:!1,autoHeightSpeed:350,bigTarget:!1,animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}},a.fn.randomize=function(b){function c(){return Math.round(Math.random())-.5}return a(this).each(function(){var d=a(this),e=d.children(),f=e.length;if(f>1){e.hide();var g=[];for(i=0;i<f;i++)g[g.length]=i;g=g.sort(c),a.each(g,function(a,c){var f=e.eq(c),g=f.clone(!0);g.show().appendTo(d),b!==undefined&&b(f,g),f.remove()})}})}})(jQuery);(function($){$.extend($.ui,{timepicker:{version:"0.9.5"}});function Timepicker(){this.regional=[];this.regional['']={currentText:'Now',closeText:'Done',ampm:false,timeFormat:'hh:mm tt',timeOnlyTitle:'Choose Time',timeText:'Time',hourText:'Hour',minuteText:'Minute',secondText:'Second',timezoneText:'Time Zone'};this._defaults={showButtonPanel:true,timeOnly:false,showHour:true,showMinute:true,showSecond:false,showTimezone:false,showTime:true,stepHour:0.05,stepMinute:0.05,stepSecond:0.05,hour:0,minute:0,second:0,timezone:'+0000',hourMin:0,minuteMin:0,secondMin:0,hourMax:23,minuteMax:59,secondMax:59,minDateTime:null,maxDateTime:null,hourGrid:0,minuteGrid:0,secondGrid:0,alwaysSetTime:true,separator:' ',altFieldTimeOnly:true,showTimepicker:true,timezoneList:["-1100","-1000","-0900","-0800","-0700","-0600","-0500","-0400","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0400","+0500","+0600","+0700","+0800","+0900","+1000","+1100","+1200"]};$.extend(this._defaults,this.regional['']);}
$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,timezone_select:null,hour:0,minute:0,second:0,timezone:'+0000',hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,ampm:'',formattedDate:'',formattedTime:'',formattedDateTime:'',timezoneList:["-1100","-1000","-0900","-0800","-0700","-0600","-0500","-0400","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0400","+0500","+0600","+0700","+0800","+0900","+1000","+1100","+1200"],setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this;},_newInst:function($input,o){var tp_inst=new Timepicker(),inlineSettings={};for(var attrName in this._defaults){var attrValue=$input.attr('time:'+attrName);if(attrValue){try{inlineSettings[attrName]=eval(attrValue);}catch(err){inlineSettings[attrName]=attrValue;}}}
tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,{beforeShow:function(input,dp_inst){if($.isFunction(o.beforeShow))
o.beforeShow(input,dp_inst,tp_inst);},onChangeMonthYear:function(year,month,dp_inst){tp_inst._updateDateTime(dp_inst);if($.isFunction(o.onChangeMonthYear))
o.onChangeMonthYear.call($input[0],year,month,dp_inst,tp_inst);},onClose:function(dateText,dp_inst){if(tp_inst.timeDefined===true&&$input.val()!='')
tp_inst._updateDateTime(dp_inst);if($.isFunction(o.onClose))
o.onClose.call($input[0],dateText,dp_inst,tp_inst);},timepicker:tp_inst});tp_inst.hour=tp_inst._defaults.hour;tp_inst.minute=tp_inst._defaults.minute;tp_inst.second=tp_inst._defaults.second;tp_inst.ampm='';tp_inst.$input=$input;if(o.altField)
tp_inst.$altInput=$(o.altField).css({cursor:'pointer'}).focus(function(){$input.trigger("focus");});if(tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date)
tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime());if(tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date)
tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime());if(tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date)
tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime());if(tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date)
tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime());return tp_inst;},_addTimePicker:function(dp_inst){var currDT=(this.$altInput&&this._defaults.altFieldTimeOnly)?this.$input.val()+' '+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(currDT);this._limitMinMaxDateTime(dp_inst,false);this._injectTimePicker();},_parseTime:function(timeString,withDate){var regstr=this._defaults.timeFormat.toString().replace(/h{1,2}/ig,'(\\d?\\d)').replace(/m{1,2}/ig,'(\\d?\\d)').replace(/s{1,2}/ig,'(\\d?\\d)').replace(/t{1,2}/ig,'(am|pm|a|p)?').replace(/z{1}/ig,'((\\+|-)\\d\\d\\d\\d)?').replace(/\s/g,'\\s?')+'$',order=this._getFormatPositions(),treg;if(!this.inst)this.inst=$.datepicker._getInst(this.$input[0]);if(withDate||!this._defaults.timeOnly){var dp_dateFormat=$.datepicker._get(this.inst,'dateFormat');var specials=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");regstr='.{'+dp_dateFormat.length+',}'+this._defaults.separator.replace(specials,"\\$&")+regstr;}
treg=timeString.match(new RegExp(regstr,'i'));if(treg){if(order.t!==-1)
this.ampm=((treg[order.t]===undefined||treg[order.t].length===0)?'':(treg[order.t].charAt(0).toUpperCase()=='A')?'AM':'PM').toUpperCase();if(order.h!==-1){if(this.ampm=='AM'&&treg[order.h]=='12')
this.hour=0;else if(this.ampm=='PM'&&treg[order.h]!='12')
this.hour=(parseFloat(treg[order.h])+12).toFixed(0);else this.hour=Number(treg[order.h]);}
if(order.m!==-1)this.minute=Number(treg[order.m]);if(order.s!==-1)this.second=Number(treg[order.s]);if(order.z!==-1)this.timezone=treg[order.z];return true;}
return false;},_getFormatPositions:function(){var finds=this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|t{1,2}|z)/g),orders={h:-1,m:-1,s:-1,t:-1,z:-1};if(finds)
for(var i=0;i<finds.length;i++)
if(orders[finds[i].toString().charAt(0)]==-1)
orders[finds[i].toString().charAt(0)]=i+1;return orders;},_injectTimePicker:function(){var $dp=this.inst.dpDiv,o=this._defaults,tp_inst=this,hourMax=(o.hourMax-(o.hourMax%o.stepHour)).toFixed(0),minMax=(o.minuteMax-(o.minuteMax%o.stepMinute)).toFixed(0),secMax=(o.secondMax-(o.secondMax%o.stepSecond)).toFixed(0),dp_id=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,'');if($dp.find("div#ui-timepicker-div-"+dp_id).length===0&&o.showTimepicker){var noDisplay=' style="display:none;"',html='<div class="ui-timepicker-div" id="ui-timepicker-div-'+dp_id+'"><dl>'+'<dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+dp_id+'"'+
((o.showTime)?'':noDisplay)+'>'+o.timeText+'</dt>'+'<dd class="ui_tpicker_time" id="ui_tpicker_time_'+dp_id+'"'+
((o.showTime)?'':noDisplay)+'></dd>'+'<dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+dp_id+'"'+
((o.showHour)?'':noDisplay)+'>'+o.hourText+'</dt>',hourGridSize=0,minuteGridSize=0,secondGridSize=0,size;if(o.showHour&&o.hourGrid>0){html+='<dd class="ui_tpicker_hour">'+'<div id="ui_tpicker_hour_'+dp_id+'"'+((o.showHour)?'':noDisplay)+'></div>'+'<div style="padding-left: 1px"><table><tr>';for(var h=o.hourMin;h<hourMax;h+=o.hourGrid){hourGridSize++;var tmph=(o.ampm&&h>12)?h-12:h;if(tmph<10)tmph='0'+tmph;if(o.ampm){if(h==0)tmph=12+'a';else if(h<12)tmph+='a';else tmph+='p';}
html+='<td>'+tmph+'</td>';}
html+='</tr></table></div>'+'</dd>';}else html+='<dd class="ui_tpicker_hour" id="ui_tpicker_hour_'+dp_id+'"'+
((o.showHour)?'':noDisplay)+'></dd>';html+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+dp_id+'"'+
((o.showMinute)?'':noDisplay)+'>'+o.minuteText+'</dt>';if(o.showMinute&&o.minuteGrid>0){html+='<dd class="ui_tpicker_minute ui_tpicker_minute_'+o.minuteGrid+'">'+'<div id="ui_tpicker_minute_'+dp_id+'"'+
((o.showMinute)?'':noDisplay)+'></div>'+'<div style="padding-left: 1px"><table><tr>';for(var m=o.minuteMin;m<minMax;m+=o.minuteGrid){minuteGridSize++;html+='<td>'+((m<10)?'0':'')+m+'</td>';}
html+='</tr></table></div>'+'</dd>';}else html+='<dd class="ui_tpicker_minute" id="ui_tpicker_minute_'+dp_id+'"'+
((o.showMinute)?'':noDisplay)+'></dd>';html+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+dp_id+'"'+
((o.showSecond)?'':noDisplay)+'>'+o.secondText+'</dt>';if(o.showSecond&&o.secondGrid>0){html+='<dd class="ui_tpicker_second ui_tpicker_second_'+o.secondGrid+'">'+'<div id="ui_tpicker_second_'+dp_id+'"'+
((o.showSecond)?'':noDisplay)+'></div>'+'<div style="padding-left: 1px"><table><tr>';for(var s=o.secondMin;s<secMax;s+=o.secondGrid){secondGridSize++;html+='<td>'+((s<10)?'0':'')+s+'</td>';}
html+='</tr></table></div>'+'</dd>';}else html+='<dd class="ui_tpicker_second" id="ui_tpicker_second_'+dp_id+'"'+
((o.showSecond)?'':noDisplay)+'></dd>';html+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+dp_id+'"'+
((o.showTimezone)?'':noDisplay)+'>'+o.timezoneText+'</dt>';html+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+dp_id+'"'+
((o.showTimezone)?'':noDisplay)+'></dd>';html+='</dl></div>';$tp=$(html);if(o.timeOnly===true){$tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all">'+'<div class="ui-datepicker-title">'+o.timeOnlyTitle+'</div>'+'</div>');$dp.find('.ui-datepicker-header, .ui-datepicker-calendar').hide();}
this.hour_slider=$tp.find('#ui_tpicker_hour_'+dp_id).slider({orientation:"horizontal",value:this.hour,min:o.hourMin,max:hourMax,step:o.stepHour,slide:function(event,ui){tp_inst.hour_slider.slider("option","value",ui.value);tp_inst._onTimeChange();}});this.minute_slider=$tp.find('#ui_tpicker_minute_'+dp_id).slider({orientation:"horizontal",value:this.minute,min:o.minuteMin,max:minMax,step:o.stepMinute,slide:function(event,ui){tp_inst.minute_slider.slider("option","value",ui.value);tp_inst._onTimeChange();}});this.second_slider=$tp.find('#ui_tpicker_second_'+dp_id).slider({orientation:"horizontal",value:this.second,min:o.secondMin,max:secMax,step:o.stepSecond,slide:function(event,ui){tp_inst.second_slider.slider("option","value",ui.value);tp_inst._onTimeChange();}});this.timezone_select=$tp.find('#ui_tpicker_timezone_'+dp_id).append('<select></select>').find("select");$.fn.append.apply(this.timezone_select,$.map(o.timezoneList,function(val,idx){return $("<option />").val(typeof val=="object"?val.value:val).text(typeof val=="object"?val.label:val);}));this.timezone_select.val((typeof this.timezone!="undefined"&&this.timezone!=null&&this.timezone!="")?this.timezone:o.timezone);this.timezone_select.change(function(){tp_inst._onTimeChange();});if(o.showHour&&o.hourGrid>0){size=100*hourGridSize*o.hourGrid/(hourMax-o.hourMin);$tp.find(".ui_tpicker_hour table").css({width:size+"%",marginLeft:(size/(-2*hourGridSize))+"%",borderCollapse:'collapse'}).find("td").each(function(index){$(this).click(function(){var h=$(this).html();if(o.ampm){var ap=h.substring(2).toLowerCase(),aph=parseInt(h.substring(0,2));if(ap=='a'){if(aph==12)h=0;else h=aph;}else if(aph==12)h=12;else h=aph+12;}
tp_inst.hour_slider.slider("option","value",h);tp_inst._onTimeChange();tp_inst._onSelectHandler();}).css({cursor:'pointer',width:(100/hourGridSize)+'%',textAlign:'center',overflow:'hidden'});});}
if(o.showMinute&&o.minuteGrid>0){size=100*minuteGridSize*o.minuteGrid/(minMax-o.minuteMin);$tp.find(".ui_tpicker_minute table").css({width:size+"%",marginLeft:(size/(-2*minuteGridSize))+"%",borderCollapse:'collapse'}).find("td").each(function(index){$(this).click(function(){tp_inst.minute_slider.slider("option","value",$(this).html());tp_inst._onTimeChange();tp_inst._onSelectHandler();}).css({cursor:'pointer',width:(100/minuteGridSize)+'%',textAlign:'center',overflow:'hidden'});});}
if(o.showSecond&&o.secondGrid>0){$tp.find(".ui_tpicker_second table").css({width:size+"%",marginLeft:(size/(-2*secondGridSize))+"%",borderCollapse:'collapse'}).find("td").each(function(index){$(this).click(function(){tp_inst.second_slider.slider("option","value",$(this).html());tp_inst._onTimeChange();tp_inst._onSelectHandler();}).css({cursor:'pointer',width:(100/secondGridSize)+'%',textAlign:'center',overflow:'hidden'});});}
var $buttonPanel=$dp.find('.ui-datepicker-buttonpane');if($buttonPanel.length)$buttonPanel.before($tp);else $dp.append($tp);this.$timeObj=$tp.find('#ui_tpicker_time_'+dp_id);if(this.inst!==null){var timeDefined=this.timeDefined;this._onTimeChange();this.timeDefined=timeDefined;}
var onSelectDelegate=function(){tp_inst._onSelectHandler();};this.hour_slider.bind('slidestop',onSelectDelegate);this.minute_slider.bind('slidestop',onSelectDelegate);this.second_slider.bind('slidestop',onSelectDelegate);}},_limitMinMaxDateTime:function(dp_inst,adjustSliders){var o=this._defaults,dp_date=new Date(dp_inst.selectedYear,dp_inst.selectedMonth,dp_inst.selectedDay);if(!this._defaults.showTimepicker)return;if(this._defaults.minDateTime!==null&&dp_date){var minDateTime=this._defaults.minDateTime,minDateTimeDate=new Date(minDateTime.getFullYear(),minDateTime.getMonth(),minDateTime.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null){this.hourMinOriginal=o.hourMin;this.minuteMinOriginal=o.minuteMin;this.secondMinOriginal=o.secondMin;}
if(dp_inst.settings.timeOnly||minDateTimeDate.getTime()==dp_date.getTime()){this._defaults.hourMin=minDateTime.getHours();if(this.hour<=this._defaults.hourMin){this.hour=this._defaults.hourMin;this._defaults.minuteMin=minDateTime.getMinutes();if(this.minute<=this._defaults.minuteMin){this.minute=this._defaults.minuteMin;this._defaults.secondMin=minDateTime.getSeconds();}else{if(this.second<this._defaults.secondMin)this.second=this._defaults.secondMin;this._defaults.secondMin=this.secondMinOriginal;}}else{this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;}}else{this._defaults.hourMin=this.hourMinOriginal;this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;}}
if(this._defaults.maxDateTime!==null&&dp_date){var maxDateTime=this._defaults.maxDateTime,maxDateTimeDate=new Date(maxDateTime.getFullYear(),maxDateTime.getMonth(),maxDateTime.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null){this.hourMaxOriginal=o.hourMax;this.minuteMaxOriginal=o.minuteMax;this.secondMaxOriginal=o.secondMax;}
if(dp_inst.settings.timeOnly||maxDateTimeDate.getTime()==dp_date.getTime()){this._defaults.hourMax=maxDateTime.getHours();if(this.hour>=this._defaults.hourMax){this.hour=this._defaults.hourMax;this._defaults.minuteMax=maxDateTime.getMinutes();if(this.minute>=this._defaults.minuteMax){this.minute=this._defaults.minuteMax;this._defaults.secondMin=maxDateTime.getSeconds();}else{if(this.second>this._defaults.secondMax)this.second=this._defaults.secondMax;this._defaults.secondMax=this.secondMaxOriginal;}}else{this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;}}else{this._defaults.hourMax=this.hourMaxOriginal;this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;}}
if(adjustSliders!==undefined&&adjustSliders===true){this.hour_slider.slider("option",{min:this._defaults.hourMin,max:this._defaults.hourMax}).slider('value',this.hour);this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:this._defaults.minuteMax}).slider('value',this.minute);this.second_slider.slider("option",{min:this._defaults.secondMin,max:this._defaults.secondMax}).slider('value',this.second);}},_onTimeChange:function(){var hour=(this.hour_slider)?this.hour_slider.slider('value'):false,minute=(this.minute_slider)?this.minute_slider.slider('value'):false,second=(this.second_slider)?this.second_slider.slider('value'):false,timezone=(this.timezone_select)?this.timezone_select.val():false;if(hour!==false)hour=parseInt(hour,10);if(minute!==false)minute=parseInt(minute,10);if(second!==false)second=parseInt(second,10);var ampm=(hour<12)?'AM':'PM';var hasChanged=(hour!=this.hour||minute!=this.minute||second!=this.second||(this.ampm.length>0&&this.ampm!=ampm)||timezone!=this.timezone);if(hasChanged){if(hour!==false)this.hour=hour;if(minute!==false)this.minute=minute;if(second!==false)this.second=second;if(timezone!==false)this.timezone=timezone;this._limitMinMaxDateTime(this.inst,true);}
if(this._defaults.ampm)this.ampm=ampm;this._formatTime();if(this.$timeObj)this.$timeObj.text(this.formattedTime);this.timeDefined=true;if(hasChanged)this._updateDateTime();},_onSelectHandler:function(){var onSelect=this._defaults['onSelect'];var inputEl=this.$input?this.$input[0]:null;if(onSelect&&inputEl){onSelect.apply(inputEl,[this.formattedDateTime,this]);}},_formatTime:function(time,format,ampm){if(ampm==undefined)ampm=this._defaults.ampm;time=time||{hour:this.hour,minute:this.minute,second:this.second,ampm:this.ampm,timezone:this.timezone};var tmptime=format||this._defaults.timeFormat.toString();if(ampm){var hour12=((time.ampm=='AM')?(time.hour):(time.hour%12));hour12=(Number(hour12)===0)?12:hour12;tmptime=tmptime.toString().replace(/hh/g,((hour12<10)?'0':'')+hour12).replace(/h/g,hour12).replace(/mm/g,((time.minute<10)?'0':'')+time.minute).replace(/m/g,time.minute).replace(/ss/g,((time.second<10)?'0':'')+time.second).replace(/s/g,time.second).replace(/TT/g,time.ampm.toUpperCase()).replace(/Tt/g,time.ampm.toUpperCase()).replace(/tT/g,time.ampm.toLowerCase()).replace(/tt/g,time.ampm.toLowerCase()).replace(/T/g,time.ampm.charAt(0).toUpperCase()).replace(/t/g,time.ampm.charAt(0).toLowerCase()).replace(/z/g,time.timezone);}else{tmptime=tmptime.toString().replace(/hh/g,((time.hour<10)?'0':'')+time.hour).replace(/h/g,time.hour).replace(/mm/g,((time.minute<10)?'0':'')+time.minute).replace(/m/g,time.minute).replace(/ss/g,((time.second<10)?'0':'')+time.second).replace(/s/g,time.second).replace(/z/g,time.timezone);tmptime=$.trim(tmptime.replace(/t/gi,''));}
if(arguments.length)return tmptime;else this.formattedTime=tmptime;},_updateDateTime:function(dp_inst){dp_inst=this.inst||dp_inst,dt=new Date(dp_inst.selectedYear,dp_inst.selectedMonth,dp_inst.selectedDay),dateFmt=$.datepicker._get(dp_inst,'dateFormat'),formatCfg=$.datepicker._getFormatConfig(dp_inst),timeAvailable=dt!==null&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(dateFmt,(dt===null?new Date():dt),formatCfg);var formattedDateTime=this.formattedDate;if(dp_inst.lastVal!==undefined&&(dp_inst.lastVal.length>0&&this.$input.val().length===0))
return;if(this._defaults.timeOnly===true){formattedDateTime=this.formattedTime;}else if(this._defaults.timeOnly!==true&&(this._defaults.alwaysSetTime||timeAvailable)){formattedDateTime+=this._defaults.separator+this.formattedTime;}
this.formattedDateTime=formattedDateTime;if(!this._defaults.showTimepicker){this.$input.val(this.formattedDate);}else if(this.$altInput&&this._defaults.altFieldTimeOnly===true){this.$altInput.val(this.formattedTime);this.$input.val(this.formattedDate);}else if(this.$altInput){this.$altInput.val(formattedDateTime);this.$input.val(formattedDateTime);}else{this.$input.val(formattedDateTime);}
this.$input.trigger("change");}});$.fn.extend({timepicker:function(o){o=o||{};var tmp_args=arguments;if(typeof o=='object')tmp_args[0]=$.extend(o,{timeOnly:true});return $(this).each(function(){$.fn.datetimepicker.apply($(this),tmp_args);});},datetimepicker:function(o){o=o||{};var $input=this,tmp_args=arguments;if(typeof(o)=='string'){if(o=='getDate')
return $.fn.datepicker.apply($(this[0]),tmp_args);else
return this.each(function(){var $t=$(this);$t.datepicker.apply($t,tmp_args);});}
else
return this.each(function(){var $t=$(this);$t.datepicker($.timepicker._newInst($t,o)._defaults);});}});$.datepicker._base_selectDate=$.datepicker._selectDate;$.datepicker._selectDate=function(id,dateStr){var inst=this._getInst($(id)[0]),tp_inst=this._get(inst,'timepicker');if(tp_inst){tp_inst._limitMinMaxDateTime(inst,true);inst.inline=inst.stay_open=true;this._base_selectDate(id,dateStr+tp_inst._defaults.separator+tp_inst.formattedTime);inst.inline=inst.stay_open=false;this._notifyChange(inst);this._updateDatepicker(inst);}
else this._base_selectDate(id,dateStr);};$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(inst){if(typeof(inst.stay_open)!=='boolean'||inst.stay_open===false){this._base_updateDatepicker(inst);var tp_inst=this._get(inst,'timepicker');if(tp_inst)tp_inst._addTimePicker(inst);}};$.datepicker._base_doKeyPress=$.datepicker._doKeyPress;$.datepicker._doKeyPress=function(event){var inst=$.datepicker._getInst(event.target),tp_inst=$.datepicker._get(inst,'timepicker');if(tp_inst){if($.datepicker._get(inst,'constrainInput')){var ampm=tp_inst._defaults.ampm,datetimeChars=tp_inst._defaults.timeFormat.toString().replace(/[hms]/g,'').replace(/TT/g,ampm?'APM':'').replace(/Tt/g,ampm?'AaPpMm':'').replace(/tT/g,ampm?'AaPpMm':'').replace(/T/g,ampm?'AP':'').replace(/tt/g,ampm?'apm':'').replace(/t/g,ampm?'ap':'')+" "+
tp_inst._defaults.separator+
$.datepicker._possibleChars($.datepicker._get(inst,'dateFormat')),chr=String.fromCharCode(event.charCode===undefined?event.keyCode:event.charCode);return event.ctrlKey||(chr<' '||!datetimeChars||datetimeChars.indexOf(chr)>-1);}}
return $.datepicker._base_doKeyPress(event);};$.datepicker._base_doKeyUp=$.datepicker._doKeyUp;$.datepicker._doKeyUp=function(event){var inst=$.datepicker._getInst(event.target),tp_inst=$.datepicker._get(inst,'timepicker');if(tp_inst){if(tp_inst._defaults.timeOnly&&(inst.input.val()!=inst.lastVal)){try{$.datepicker._updateDatepicker(inst);}
catch(err){$.datepicker.log(err);}}}
return $.datepicker._base_doKeyUp(event);};$.datepicker._base_gotoToday=$.datepicker._gotoToday;$.datepicker._gotoToday=function(id){this._base_gotoToday(id);this._setTime(this._getInst($(id)[0]),new Date());};$.datepicker._disableTimepickerDatepicker=function(target,date,withDate){var inst=this._getInst(target),tp_inst=this._get(inst,'timepicker');$(target).datepicker('getDate');if(tp_inst){tp_inst._defaults.showTimepicker=false;tp_inst._updateDateTime(inst);}};$.datepicker._enableTimepickerDatepicker=function(target,date,withDate){var inst=this._getInst(target),tp_inst=this._get(inst,'timepicker');$(target).datepicker('getDate');if(tp_inst){tp_inst._defaults.showTimepicker=true;tp_inst._addTimePicker(inst);tp_inst._updateDateTime(inst);}};$.datepicker._setTime=function(inst,date){var tp_inst=this._get(inst,'timepicker');if(tp_inst){var defaults=tp_inst._defaults,hour=date?date.getHours():defaults.hour,minute=date?date.getMinutes():defaults.minute,second=date?date.getSeconds():defaults.second;if((hour<defaults.hourMin||hour>defaults.hourMax)||(minute<defaults.minuteMin||minute>defaults.minuteMax)||(second<defaults.secondMin||second>defaults.secondMax)){hour=defaults.hourMin;minute=defaults.minuteMin;second=defaults.secondMin;}
if(tp_inst.hour_slider)tp_inst.hour_slider.slider('value',hour);else tp_inst.hour=hour;if(tp_inst.minute_slider)tp_inst.minute_slider.slider('value',minute);else tp_inst.minute=minute;if(tp_inst.second_slider)tp_inst.second_slider.slider('value',second);else tp_inst.second=second;tp_inst._onTimeChange();tp_inst._updateDateTime(inst);}};$.datepicker._setTimeDatepicker=function(target,date,withDate){var inst=this._getInst(target),tp_inst=this._get(inst,'timepicker');if(tp_inst){this._setDateFromField(inst);var tp_date;if(date){if(typeof date=="string"){tp_inst._parseTime(date,withDate);tp_date=new Date();tp_date.setHours(tp_inst.hour,tp_inst.minute,tp_inst.second);}
else tp_date=new Date(date.getTime());if(tp_date.toString()=='Invalid Date')tp_date=undefined;this._setTime(inst,tp_date);}}};$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker;$.datepicker._setDateDatepicker=function(target,date){var inst=this._getInst(target),tp_date=(date instanceof Date)?new Date(date.getTime()):date;this._updateDatepicker(inst);this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(target,tp_date,true);};$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker;$.datepicker._getDateDatepicker=function(target,noDefault){var inst=this._getInst(target),tp_inst=this._get(inst,'timepicker');if(tp_inst){this._setDateFromField(inst,noDefault);var date=this._getDate(inst);if(date&&tp_inst._parseTime($(target).val(),tp_inst.timeOnly))date.setHours(tp_inst.hour,tp_inst.minute,tp_inst.second);return date;}
return this._base_getDateDatepicker(target,noDefault);};function extendRemove(target,props){$.extend(target,props);for(var name in props)
if(props[name]===null||props[name]===undefined)
target[name]=props[name];return target;}
$.timepicker=new Timepicker();$.timepicker.version="0.9.5";})(jQuery);;$(document).ready(function()
{$("a[href^='http']").not("[class*='samewindow']").not("[href*='"+document.domain+"']").attr('target','_blank');$("a.newwindow").attr('target','_blank');$("a[href*='.pdf'],a[href*='.doc'],a[href*='.ppt'],a[href*='.xls']").attr("target","_blank");$('input[type="submit"], .button').button();$('.jshide').hide();$(".go2dd_location").change(function(){$(this).closest("form").submit();});$("#carousel").show().featureCarousel();$("#scroller").simplyScroll({frameRate:'36'});$('#slides').slides({preload:true,preloadImage:'css/images/loading.gif',play:5000,pause:5500,hoverPause:true});$('input[name="password"]').passwordStrength();$(".accordion").accordion({collapsible:true,active:false,heightStyle:"content"});var wWidth=$(window).width();$(".message").hide();$(".message").dialog({bgiframe:false,title:"Status Box",modal:true,width:wWidth*0.7,minHeight:120,position:["center",100],overlay:{backgroundColor:"000",opacity:0.6},buttons:{Ok:function()
{$(this).dialog('close');}}});$("#msg").dialog({autoOpen:false,width:"600px"});$(".opener").click(function()
{$("#msg").dialog("open");return false;});$("a.youtube").click(function(e)
{e.preventDefault();var flashvars={},params={wmode:"transparent",play:"true"},attributes={};var url=$(this).attr('href');swfobject.embedSWF(url+"?autoplay=1","myvideo","570","355","9.0.0","expressInstall.swf",flashvars,params,attributes);});$('.tabgroup').tabs({activate:function(event,ui){if(typeof(initializeMap)!="undefined"){initializeMap();}},fx:{opacity:'toggle'}});function getParameters(href)
{var settingsObject={},hash,hashes=href.substring(1).split(/&/);for(i=0;i<hashes.length;i++)
{hash=hashes[i].split('=');settingsObject[hash[0]]=hash[1];}
return settingsObject;}
$('.colorbox').each(function()
{$(this).colorbox($.extend({width:'100%',height:'100%',rel:'colorbox',transition:"fade",speed:0},getParameters($(this).attr("href"))));});$('.colorboxinline').colorbox({width:"90%",height:"580px",inline:true,current:"Slide {current} of {total}",href:function()
{return $(this).attr('href');}});if(document.body.clientWidth>=980)
{$('nav.main').superfish({speed:'fast',delay:200,speedOut:'fast'});}
$(".datepicker").datepicker({showOn:'button',buttonImage:'/css/images/calendar.gif',dateFormat:'yy-mm-dd',defaultDate:+0});$(".datetimepicker").datetimepicker({showOn:'button',buttonImage:'/css/images/calendar.gif',dateFormat:'yy-mm-dd',defaultDate:+0,showSecond:true,timeFormat:'hh:mm:ss'});$('.scrolling-table').tableScroll({height:296});$('input[type="submit"]').on('click',function(){ga('send','event','button','click','form-submission');});});var RecaptchaOptions={theme:'white'};;(function(){var method;var noop=function noop(){};var methods=['assert','clear','count','debug','dir','dirxml','error','exception','group','groupCollapsed','groupEnd','info','log','markTimeline','profile','profileEnd','table','time','timeEnd','timeStamp','trace','warn'];var length=methods.length;var console=(window.console=window.console||{});while(length--){method=methods[length];if(!console[method]){console[method]=noop;}}}());